<!DOCTYPE html>

<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta content="width=1520" name="viewport" />
  <title>브레인넷 - 공기업 취업 플랫폼</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      background-color: #ffffff;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 1480px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* 헤더 스타일 */
    header {
      background: #fff;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
      width: 100%;
      display: flex;
      justify-content: center;
    }

    .header-content {
      display: flex;
      justify-content: flex-start;
      align-items: flex-end;
      padding: 1rem 0;
      gap: 3rem;
      /*'채용정보 등' 배너의 위치 조정(오른쪽으로) */
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo img {
      height: 50px;
      width: auto;
      object-fit: contain;
    }

    .logo-text {
      font-size: 1.5rem;
      font-weight: bold;
      color: #2c3e50;
    }

    nav ul {
      display: flex;
      list-style: none;
      gap: 2rem;
      margin-left: 2rem;
    }

    nav a {
      text-decoration: none;
      color: #333;
      font-weight: 500;
      transition: color 0.3s;
    }

    nav a:hover {
      color: #3498db;
    }

    /* 메인 콘텐츠 */
    .hero {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 4rem 0;
      text-align: center;
    }

    .hero h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .hero p {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      opacity: 0.9;
    }

    .cta-button {
      display: inline-block;
      background: #e74c3c;
      color: white;
      padding: 1rem 2rem;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
      transition: all 0.3s;
    }

    .cta-button:hover {
      background: #c0392b;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
    }

    /* 채용 사이트 방문 버튼 특별 스타일 */
    #detail-link {
      background: #e74c3c !important;
    }

    #detail-link:hover {
      background: #c0392b !important;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(231, 76, 60, 0.4);
    }

    /* 섹션 스타일 */
    .section {
      padding: 4rem 0;
      width: 100%;
      display: flex;
      justify-content: center;
    }

    .section > .container {
      width: 100%;
    }

    .section-title {
      text-align: left;
      font-size: 2.0rem;
      margin-bottom: 1.75rem;
      color: #2c3e50;
    }

    /* === Job Grid (4 x n) === */
    .job-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.25rem;
    }

    .job-card {
      display: block;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
      padding: 1.0rem 1.0rem 1rem;
      text-decoration: none;
      color: #2c3e50;
      border: 1px solid #e9ecef;
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }

    .job-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 22px rgba(0, 0, 0, 0.12);
      border-color: #dbe4ff;
    }

    /* Banner-like top image (inspired by user's snippet) */
    .job-card .banner-image {
      width: 100%;
      height: 56px;
      object-fit: contain;
      display: block;
      margin-bottom: .65rem;
      image-rendering: auto;
      filter: saturate(1.05);
    }

    .job-card h3 {
      margin-bottom: .3rem;
      font-size: 1.02rem;
      line-height: 1.25rem;
    }

    .job-card p {
      margin: .1rem 0;
      color: #555;
      font-size: .9rem;
    }

    .job-badges {
      margin-top: .45rem;
      display: flex;
      flex-wrap: wrap;
      gap: .4rem;
    }

    .badge {
      display: inline-block;
      padding: .22rem .5rem;
      font-size: .72rem;
      border-radius: 999px;
      background: #f1f3f5;
      color: #495057;
      border: 1px solid #e9ecef;
    }

    /* Premium row special spacing (still 4 in one row on desktop) */
    .job-grid--premium {
      margin-top: 1.25rem;
    }

    /* Responsive columns */
    @media (max-width: 1024px) {
      .job-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (max-width: 768px) {
      .job-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .job-grid {
        grid-template-columns: 1fr;
      }
    }

    /* 푸터 */
    footer {
      background: #2c3e50;
      color: white;
      text-align: center;
      padding: 2rem 0;
    }

    /* === Global Top Navigation (non-sticky) === */
    .global-nav {
      background: transparent !important;
      /* 혹시 남아있는 검은 배경 강제 제거 */
      border: none !important;
      /* 선(테두리) 제거 */
      box-shadow: none !important;
      /* 그림자(검은 라인처럼 보일 수 있음) 제거 */
      color: #000 !important;
      /* 기본 글자색을 검정으로 */
      font-size: 17px;
      width: 100%;
      display: flex;
      justify-content: center;
    }

    .global-nav .container {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      padding: .4rem 20px;
      padding-right: calc(20px + 0px);
      /* 사이드바 끝과 정렬 */
      background: transparent !important;
      /* 검은 바를 컨테이너에만 */
      border: none !important;
      width: 100%;
      max-width: 1480px;
      /* 본문(프리미엄+사이드바) 폭과 맞춤 */
      margin: 0 auto;
      /* 가운데 정렬 */
      box-sizing: border-box;
    }

    .global-nav-links {
      list-style: none;
      display: flex;
      gap: 1.25rem;
      margin-right: 113px;
      /* 메뉴를 왼쪽으로 이동하여 사이드바 끝과 정렬 */
      padding-right: 0;
    }

    .global-nav a {
      color: #000 !important;
      text-decoration: none;
      opacity: .9;
      transition: opacity .2s ease;
    }

    .global-nav a:hover {
      opacity: 1;
    }

    .global-nav .cta-link {
      background: #e11d48;
      /* rose-600 */
      padding: .35rem .75rem;
      border-radius: 999px;
      font-weight: 600;
      color: #fff !important;
    }

    @media (max-width:768px) {
      .global-nav .container {
        justify-content: center;
      }

      .global-nav-links {
        gap: .9rem;
        flex-wrap: wrap;
      }
    }

    /* === Force header & global nav non-sticky === */
    .global-nav,
    header {
      position: static !important;
      top: auto !important;
      z-index: auto !important;
      box-shadow: none !important;
    }

    /* === Custom Banner Border & Divider === */
    .job-card {
      border: 1px solid #3498db !important;
      /* blue thin border */
    }

    .job-card .banner-image {
      border-bottom: 1px solid #3498db;
      /* divider line between logo and text */
      margin-bottom: .65rem;
      padding-bottom: .45rem;
    }


    /* === Spacing adjustments (v6) === */
    .section--compact {
      padding: 1.2rem 0 2.666rem;
    }

    /* 위(top)만 줄이고 아래(bottom)는 유지 */
    .section--tight-top {
      padding-top: 1.25rem;
    }

    /* bring 'latest' closer to 'premium' */
    .job-grid--premium .banner-image {
      height: 40px;
    }

    /* shorter premium banner visuals */
    .job-grid--premium .job-card {
      padding: .66rem 1rem .75rem;
    }

    .job-grid--premium {
      margin-top: .9rem;
    }


    /* === v7 overrides: 4/5 scaling and visual updates === */
    /* 1) Banner(card) global scale ~0.8 via font-sizes/paddings/heights */
    .job-grid {
      gap: 1rem;
    }

    /* 1.25rem -> 1rem */
    .job-card {
      padding: .8rem .8rem .8rem;
    }

    .job-card h3 {
      font-size: .816rem;
      line-height: 1.0rem;
    }

    /* 1.02rem -> 0.816rem */
    .job-card p {
      font-size: .72rem;
    }

    /* .9rem -> .72rem */
    .badge {
      font-size: .576rem;
      padding: .176rem .4rem;
    }

    /* .72rem -> .576rem */
    .banner-image {
      height: 45px;
      margin-bottom: .52rem;
    }

    /* 56px -> 45px */
    /* premium image is a bit shorter */
    .job-grid--premium .banner-image {
      height: 32px;
    }

    /* 40px -> 32px */

    /* 2) Section titles (프리미엄/추천) also 4/5 size */
    .section-title {
      font-size: 1.6rem;
    }

    /* 2.0rem -> 1.6rem */

    /* 3) Colors for titles */
    #features .section-title {
      color: #4dabf7;
    }

    /* light blue */
    #jobs .section-title {
      color: #ffa94d;
    }

    /* light orange */


    /* v8 overrides */
    #general-jobs {
      padding-top: 0.5rem;
      margin-top: -0.25rem;
    }

    /* Top navigation font size & spacing */
    header nav a {
      font-size: 1.5rem;
      margin-right: 2rem;
    }

    header nav a:last-child {
      margin-right: 0;
    }

    /* === v9 overrides per user requests === */

    /* 1) Remove gray background on '프리미엄 채용정보' and tighten inter-section spacing */
    #features {
      background: transparent !important;
      padding-bottom: .25rem;
    }

    #jobs {
      margin-top: -.75rem;
      padding-top: .25rem;
      padding-bottom: .25rem;
    }

    #general-jobs {
      margin-top: -.75rem;
      padding-top: .25rem;
    }

    /* Make the grids start closer under each title */
    #features .section-title,
    #jobs .section-title,
    #general-jobs .section-title {
      margin-bottom: .5rem !important;
    }

    #features .job-grid,
    #jobs .job-grid,
    #general-jobs .job-grid {
      margin-top: .25rem !important;
    }

    /* 2) Shrink section titles to 2/3 of current and tighten banner gap under titles */
    .section-title {
      font-size: 1.067rem !important;
      /* ~2/3 of 1.6rem */
      line-height: 1.2;
    }

    /* 3) Premium 4 cards: fill with very light sky-blue */
    #features .job-card {
      background: #ffffff;
      /* very light sky-blue */
      border-color: #d0ebff;
    }

    /* 4) '추천 채용정보' and '일반 채용정보' cards:
           Top edge only 3x thicker and colored (blue for 추천, light-green for 일반) */
    #jobs .job-card {
      border: 1px solid #eaeaea;
      border-top: 3px solid #4dabf7;
      /* blue */
      background: #ffffff;
    }

    #general-jobs .job-card {
      border: 1px solid #eaeaea;
      border-top: 3px solid #a9e34b;
      /* light green (연두) */
      background: #ffffff;
    }

    /* === v10 overrides === */
    :root {
      --title-size: 1.067rem;
    }

    /* 1) Inter-section spacing equals section title height */
    #features {
      margin-bottom: var(--title-size) !important;
      padding-bottom: 0 !important;
    }

    #jobs {
      margin-top: var(--title-size) !important;
      margin-bottom: var(--title-size) !important;
    }

    #general-jobs {
      margin-top: var(--title-size) !important;
    }

    /* Keep the title tight to its grid underneath */
    #features .section-title,
    #jobs .section-title,
    #general-jobs .section-title {
      margin-bottom: .4rem !important;
    }

    #features .job-grid,
    #jobs .job-grid,
    #general-jobs .job-grid {
      margin-top: .2rem !important;
    }

    /* 2) Triple the top border thickness for '추천' and '일반' cards; keep colors */
    #jobs .job-card {
      border-top-width: 9px !important;
      /* 3x of previous 3px */
      border-top-color: #4dabf7 !important;
      /* blue */
      border-left-width: 1px;
      border-right-width: 1px;
      border-bottom-width: 1px;
    }

    #general-jobs .job-card {
      border-top-width: 9px !important;
      /* 3x of previous 3px */
      border-top-color: #a9e34b !important;
      /* light green */
      border-left-width: 1px;
      border-right-width: 1px;
      border-bottom-width: 1px;
    }

    /* === v11 overrides === */
    #jobs .job-card {
      border-top-width: 4.5px !important;
    }

    #general-jobs .job-card {
      border-top-width: 4.5px !important;
    }

    /* Deadline strip styling for '추천 채용정보' */
    #jobs .job-card .deadline {
      margin-top: .5rem;
      padding: .5rem .6rem;
      border-top: 1px solid #1c7ed6;
      /* divider line above the text */
      background: #339af0;
      /* deep sky blue area under the line */
      color: #ffffff;
      /* make text white */
      font-size: .9rem;
      /* ~1.25x of .72rem body */
      line-height: 1.25rem;
      border-bottom-left-radius: .5rem;
      border-bottom-right-radius: .5rem;
    }

    #jobs .job-card .deadline strong,
    #jobs .job-card .deadline span {
      color: #ffffff !important;
    }

    /* === v12 overrides === */

    /* 1) Move deadline highlight from '추천' to '프리미엄' */
    /* Reset jobs deadline block to default look */
    #jobs .job-card .deadline {
      background: transparent !important;
      color: inherit !important;
      border-top: none !important;
      font-size: inherit !important;
      padding: 0 !important;
      margin-top: 0 !important;
    }

    /* Premium (features) deadline strip */
    #features .job-card .deadline {
      margin-top: .5rem;
      padding: .5rem .6rem;
      border-top: 1px solid #1c7ed6;
      /* divider line */
      background: #339af0;
      /* deep sky blue */
      color: #ffffff;
      font-size: .9rem;
      /* ~1.25x of base .72rem */
      line-height: 1.25rem;
      border-bottom-left-radius: .5rem;
      border-bottom-right-radius: .5rem;
    }

    #features .job-card .deadline strong,
    #features .job-card .deadline span {
      color: #ffffff !important;
    }

    /* 2) In '추천 채용정보' cards, set meta (근무지/마감) text back to normal size & black.
              We'll mark those <p> with class .meta in HTML. */
    #jobs .job-card p.meta {
      font-size: .9rem;
      /* same as .badge size, "신입(XX/XX)" * 추천 채용정보 '근무지, 마감' 글자 크기 키우기 숫자 수정 */
      color: #111;
    }

    /* 3) Top nav: reduce font size to 3/5 of previous 1.5rem => 0.9rem */
    header nav a {
      font-size: .9rem !important;
    }

    /* 4) '상품신청>' label next to section titles */
    .section-title .apply {
      font-size: 0.6em;
      color: #000;
      margin-left: 0.6em;
      /* about two spaces visually */
      font-weight: 600;
    }

    /* 5) Ad cards in '추천 채용정보' (last row last 3) */
    #jobs .job-card.ad {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: #adb5bd;
      /* light gray text */
      min-height: 180px;
    }

    #jobs .job-card.ad .ad-title {
      font-size: .9rem;
      margin-bottom: .4rem;
    }

    #jobs .job-card.ad .ad-phone {
      font-size: .8rem;
      display: flex;
      gap: .4rem;
      align-items: center;
      justify-content: center;
    }

    #jobs .job-card.ad .ad-phone svg {
      width: 18px;
      height: 18px;
      fill: #adb5bd;
    }

    #jobs .job-card.ad .ad-cta {
      margin-top: .6rem;
      display: inline-block;
      padding: .35rem .7rem;
      background: #f1f3f5;
      color: #868e96;
      border: 1px solid #e9ecef;
      border-radius: .4rem;
      font-size: .72rem;
      font-weight: 600;
    }

    #jobs .job-card.ad .banner-image,
    #jobs .job-card.ad h3,
    #jobs .job-card.ad p,
    #jobs .job-card.ad .job-badges {
      display: none !important;
    }

    /* === v13 overrides === */
    header nav a {
      font-size: 1.44rem !important;
      /* 1.6x of 0.9rem */
      margin-right: 3rem !important;
      /* wider spacing */
    }

    header nav a:last-child {
      margin-right: 0 !important;
    }

    .section-title .apply {
      color: #444 !important;
      /* slightly lighter than black */
    }

    .site-footer {
      margin-top: 2rem;
      padding: 2rem 1.25rem;
      border-top: 1px solid #e9ecef;
      color: #495057;
      background: #fff;
    }

    .site-footer .brand {
      font-weight: 800;
      font-size: 1.5em;
      /* 1.5x larger than following lines */
      color: #212529;
      margin-bottom: .5rem;
    }

    .site-footer .footer-line {
      margin: .25rem 0;
      line-height: 1.6;
    }

    .site-footer .muted {
      color: #6c757d;
    }

    /* === v14 overrides === */
    /* Remove any gray bottom area and make footer left-aligned. */
    .site-footer {
      background: transparent !important;
      border-top: none !important;
      padding-top: 1.25rem;
    }

    .site-footer,
    .site-footer * {
      text-align: left !important;
    }

    /* If footer needs same left start as content, use .container wrapper */


    /* Navigation spacing (keep as is from v13 unless overridden elsewhere) */
    header nav a {
      margin-right: 3rem !important;
    }

    /* '상품신청>' stays slightly lighter */
    .section-title .apply {
      color: #444 !important;
    }

    /* === v15 spacing tweaks === */
    #general-jobs {
      padding-bottom: 0 !important;
      margin-bottom: 0 !important;
    }

    .site-footer {
      margin-top: 1cm !important;
      padding-top: .75rem !important;
    }



    /* === v16: Footer should sit directly under #general-jobs === */
    body {
      margin: 0 !important;
    }

    #general-jobs {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }

    #general-jobs>.container {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }

    #general-jobs .job-grid {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }

    #general-jobs .job-grid>*:last-child {
      margin-bottom: 0 !important;
    }

    /* Footer: no top margin; tiny padding only */
    .site-footer {
      margin-top: 0 !important;
      padding-top: .25rem !important;
    }

    .site-footer .container {
      padding-top: 0 !important;
    }

    /* === v17 positional fix === */
    #general-jobs {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }

    #general-jobs>.container {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }

    #general-jobs .job-grid {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }

    .site-footer {
      margin-top: .25rem !important;
      padding-top: .25rem !important;
    }

    .site-footer .container {
      padding-top: 0 !important;
    }

    /* === v18: precise left alignment of footer to banner start === */
    .site-footer {
      margin-top: .25rem !important;
      padding: .25rem 0 !important;
      width: 100%;
      display: flex;
      justify-content: center;
    }

    .site-footer .container {
      width: 100%;
      max-width: 1480px !important;
      /* Global container width */
      margin: 0 auto !important;
      padding: 0 20px !important;
      /* Global container padding */
      text-align: left !important;
    }

    /* === 전체 레이아웃 중앙 정렬 강화 === */
    body > * {
      width: 100%;
      max-width: 100%;
    }

    header, 
    .global-nav,
    .content-with-sidebar-wrapper,
    .section,
    .site-footer {
      margin-left: auto;
      margin-right: auto;
    }

    /* === v19: Premium logo max-fit (keep aspect, fill cell as much as possible) === */
    #features .job-card .banner-image {
      width: 100% !important;
      height: auto !important;
      max-height: 120px !important;
      /* grow logo area for premium */
      object-fit: contain !important;
      display: block !important;
      margin-bottom: .6rem !important;
    }

    /* Slightly increase top padding so bigger logos have breathing room */
    #features .job-card {
      padding-top: 1rem !important;
    }


    /* === v20 overrides (premium banner fixed size & white logo area) === */
    /* 1) Make all 4 premium cards have consistent, fixed height */
    #features .job-grid.job-grid--premium .job-card {
      height: 200px !important;
      /* fixed card height / 프리미엄 채용정보 (수정) 배너(카드) 높이 줄이기 px부분 숫자 넣기 */
      display: flex !important;
      flex-direction: column !important;
      justify-content: flex-start !important;
    }

    /* === Premium Carousel Styles === */
    .premium-carousel-wrapper {
      position: relative;
      overflow: hidden;
      width: 100%;
    }

    .premium-carousel-container {
      display: flex;
      gap: 1rem;
      transition: transform 0.6s ease-in-out;
      width: 100%;
    }

    .premium-carousel-container .job-card {
      flex: 0 0 calc((100% - 3rem) / 4);
      /* 4개의 카드와 3개의 gap(1rem씩) */
      scroll-snap-align: start;
    }

    /* 2) Lock the logo box to a fixed area and keep the logo itself from resizing unpredictably */
    #features .job-card .banner-image {
      background: #ffffff !important;
      /* white (무색) logo area */
      width: auto !important;
      /* keep intrinsic logo width within bounds */
      max-width: 100% !important;
      height: 80px !important;
      /* fixed logo visual height */
      max-height: 80px !important;
      object-fit: contain !important;
      /* never crop; keep aspect ratio */
      display: block !important;
      margin: 0 auto .6rem auto !important;
      /* center horizontally, keep spacing below */
      padding: 8px !important;
      /* breathing room around logos */
      border: 1px solid #eef2f7 !important;
      /* subtle boundary so white-on-white logos are visible */
      border-radius: 8px !important;
      box-shadow: none !important;
      image-rendering: auto !important;
    }

    /* 3) Prevent text sections from pushing card height; clamp lines where helpful */
    #features .job-card h3 {
      font-size: 0.95rem !important;
      line-height: 1.2 !important;
      margin-bottom: .25rem !important;
      white-space: nowrap !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;
    }

    #features .job-card p {
      font-size: .80rem !important;
      /* 프리미엄 채용정보 '정규직' 글자 크기 키우기 숫자 수정 */
      margin: .1rem 0 !important;
    }

    /* 4) Keep the deadline strip inside the fixed card height without overflow */
    #features .job-card .deadline {
      margin-top: auto !important;
      /* push to bottom inside fixed-height card */
    }

    /* 5) Ensure the premium grid keeps four columns and consistent gaps (desktop) */
    #features .job-grid.job-grid--premium {
      grid-template-columns: repeat(4, 1fr) !important;
      gap: 1rem !important;
    }

    /*
    @media (max-width: 1024px) {
      #features .job-grid.job-grid--premium {
        grid-template-columns: repeat(3, 1fr) !important;
      }
    }

    @media (max-width: 768px) {
      #features .job-grid.job-grid--premium {
        grid-template-columns: repeat(2, 1fr) !important;
      }
    }

    @media (max-width: 480px) {
      #features .job-grid.job-grid--premium {
        grid-template-columns: 1fr !important;
      }
    }
    */


    /* === v22 mobile fixes === */
    /* More conservative breakpoints for grids to avoid cramped cards */
    /*
    @media (max-width: 1100px) {
      .job-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (max-width: 860px) {
      .job-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 560px) {
      .job-grid {
        grid-template-columns: 1fr;
      }
    }
    */

    /* Improve mobile readability: restore legible sizes */
    @media (max-width: 560px) {
      body {
        font-size: 16px !important;
      }

      .job-card h3 {
        font-size: 1rem !important;
        line-height: 1.25rem !important;
      }

      .job-card p {
        font-size: .9rem !important;
      }

      .badge {
        font-size: .72rem !important;
      }

      #features .job-card .banner-image {
        height: 64px !important;
        padding: 6px !important;
      }

      .container {
        padding: 0 16px !important;
      }
    }

    /* Prevent overflow: long titles truncated cleanly */
    .job-card h3 {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* Header: hamburger for small screens */
    .menu-toggle {
      display: none;
      background: #0f172a;
      color: #fff;
      border: none;
      padding: .5rem .75rem;
      border-radius: 6px;
      font-weight: 700;
    }

    @media (max-width: 860px) {
      .header-content {
        gap: .75rem;
      }

      nav {
        width: 100%;
      }

      nav .nav-links {
        display: none;
        flex-direction: column;
        gap: .5rem;
        padding-top: .5rem;
      }

      nav.open .nav-links {
        display: flex;
      }

      .menu-toggle {
        display: inline-block;
        margin-left: auto;
      }

      /* shrink logo a touch on narrow screens */
      .logo img {
        height: 42px;
      }

      header nav a {
        margin-right: 0 !important;
      }

      /* override wide spacing */
    }

    /* Premium section background: keep white and add subtle separation only via spacing */
    #features {
      background: #ffffff !important;
    }

    /* === 사이드바 레이아웃 스타일 === */
    .content-with-sidebar-wrapper {
      display: flex;
      gap: 1rem;
      width: 100%;
      max-width: 1480px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .main-content-area {
      flex: 1;
      min-width: 0;
    }

    .research-sidebar {
      flex: 0 0 300px;
      align-self: flex-start;
    }

    /* 사이드바 스타일 */
    .mainResearchWrapper {
      background: #ffffff;
      border-radius: 0;
      overflow: hidden;
      box-shadow: none;
      padding-top: 1rem;
    }

    .bannerSection {
      padding: 0 0.3rem 1rem 0;
    }

    .bannerHeader {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      margin-bottom: 0.1rem;
    }

    .hbntitleImage {
      text-align: left;
      font-size: 1.1rem;
      margin-bottom: 0;
      color: #2c3e50;
      font-weight: bold;
    }

    .btnSet {
      margin-top: 0;
      margin-left: 1rem;
    }

    .btn_subScribe {
      display: inline-block;
      background: transparent;
      color: #3498db;
      padding: 0;
      text-decoration: none;
      border-radius: 0;
      font-size: 0.9rem;
      font-weight: normal;
      transition: color 0.3s;
      cursor: pointer;
    }

    .btn_subScribe:hover {
      color: #2980b9;
      text-decoration: underline;
    }

    .bannerBody ul {
      list-style: none;
      padding: 0;
    }

    .bannerList {
      margin-bottom: 1rem;
    }

    .bannerList a {
      display: block;
      transition: transform 0.2s;
    }

    .bannerList a:hover {
      transform: scale(1.02);
    }

    .bannerList img {
      width: 66.67%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      display: block;
      margin: 0;
    }

    .main-research-line {
      height: 1px;
      background: #e0e0e0;
      margin: 0.75rem 0;
    }

    .hbn-row-image {
      margin-top: 1rem;
    }

    .hbn-row-image.small-bottom {
      margin-bottom: 0.75rem;
    }

    .hbn-row-image a {
      display: block;
    }

    .hbn-row-image img {
      width: 66.67%;
      height: auto;
      border-radius: 8px;
      display: block;
      margin: 0;
    }

    /* 반응형: 1200px 이하에서 사이드바를 상단으로 이동 */
    @media (max-width: 1200px) {
      .content-with-sidebar-wrapper {
        flex-direction: column;
      }

      .research-sidebar {
        flex: 0 0 auto;
        position: static;
        max-height: none;
        margin-bottom: 2rem;
      }
    }

    /* 프리미엄 채용정보 배너 배경색 */
    .job-grid--premium .job-card:nth-child(1) {
      background: #e3f2fd !important;
      /* 연한 하늘색 (독립기념관) */
    }

    .job-grid--premium .job-card:nth-child(2) {
      background: #f3e5f5 !important;
      /* 연한 보라색 (한국남부발전) */
    }

    .job-grid--premium .job-card:nth-child(3) {
      background: #fff3e0 !important;
      /* 연한 주황색 (세종학당재단) */
    }

    .job-grid--premium .job-card:nth-child(4) {
      background: #f1f8e9 !important;
      /* 연한 연두색 (국민연금공단) */
    }


    /* === [교육과정 배너 전용 스타일] 폭은 .container로 자동 일치 === */
    #edu-courses .edu-banner-list {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      /* 한 줄 3개 */
      gap: 20px;
      /* 위 배너들과 동일 간격 */
      width: 100%;
    }

    #edu-courses .edu-banner {
      width: 100%;
      /* 칼럼 폭 100% (폭 어긋남 방지) */
      height: 360px;
      /* 기존 대비 약 2배 (필요시 320~400px 조정) */
      display: flex;
      flex-direction: column;
      border-radius: 16px;
      overflow: hidden;
      background: #fff;
      box-shadow: 0 2px 10px rgba(0, 0, 0, .08);
      transition: transform .12s ease;
    }

    #edu-courses .edu-banner:hover {
      transform: translateY(-2px);
    }

    #edu-courses .edu-banner .thumb {
      flex: 1 0 auto;
      background: #f1f3f5;
    }

    #edu-courses .edu-banner .thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    #edu-courses .edu-banner .meta {
      padding: 12px 14px;
    }

    #edu-courses .edu-banner .meta h3 {
      font-size: 16px;
      line-height: 1.35;
      margin-bottom: 6px;
      font-weight: 700;
    }

    #edu-courses .edu-banner .meta p {
      font-size: 13px;
      color: #666;
    }

    /* 반응형: 3 → 2 → 1열 */
    @media (max-width: 1024px) {
      #edu-courses .edu-banner-list {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 640px) {
      #edu-courses .edu-banner-list {
        grid-template-columns: 1fr;
      }
    }
  </style>
  <style id="jobcard-fixed-size-style">
    /* 주입: job-card 고정 크기 */
    #jobs .job-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
    }

    #jobs .job-card {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: stretch;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 12px;
      box-sizing: border-box;
      width: 100%;
      max-width: 100%;
      height: 200px;
      /* 전체 카드 높이 고정 / 추천 채용정보 (수정) 배너(카드) 높이 줄이기 px부분 숫자 수정 */
      overflow: hidden;
      /* 넘침 방지 */
      background: #ffffff;
      text-decoration: none;
    }

    #jobs .job-card .banner-image {
      width: 100%;
      height: 64px;
      /* 로고 박스 고정 */
      object-fit: contain;
      object-position: center;
      display: block;
    }

    #jobs .job-card h3 {
      font-size: 16px;
      line-height: 1.3;
      margin: 8px 0 4px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      /* 제목 2줄 고정 */
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    #jobs .job-card p {
      margin: 0 0 4px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      /* 한 줄 자르기 */
      font-size: .95rem;
      /* 추천 채용정보 '정규직' 부분 크기 키우기 숫자 수정 */
    }

    #jobs .job-card .meta {
      margin-top: auto;
      /* 하단 정렬 */
    }
  </style>
  <style>
    /* 게시판 전용 스타일 (추가됨) */
    .board-container {
      padding: 2rem 0;
      min-height: 70vh;
    }

    .board-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .board-title {
      font-size: 2rem;
      color: #2c3e50;
    }

    .btn-add {
      background: #3498db;
      color: white;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1rem;
    }

    .btn-add:hover {
      background: #2980b9;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* 테이블 스타일 */
    .board-table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      overflow: hidden;
    }

    .board-table th {
      background: #f8f9fa;
      padding: 1rem;
      text-align: left;
      border-bottom: 2px solid #dee2e6;
      font-weight: 600;
      color: #495057;
    }

    .board-table td {
      padding: 1rem;
      border-bottom: 1px solid #dee2e6;
    }

    .board-table tbody tr:hover {
      background: #f8f9fa;
      cursor: pointer;
    }

    .board-table tbody tr:last-child td {
      border-bottom: none;
    }

    .job-image {
      width: 55px;
      height: 55px;
      object-fit: contain;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 4px;
      display: block;
      margin: 0 auto;
    }

    .btn-edit,
    .btn-delete {
      padding: 0.5rem 1rem;
      margin-right: 0.5rem;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s;
    }

    .btn-edit {
      background: #ffa94d;
      color: white;
    }

    .btn-edit:hover {
      background: #ff922b;
    }

    .btn-delete {
      background: #e74c3c;
      color: white;
    }

    .btn-delete:hover {
      background: #c0392b;
    }

    /* 모달 스타일 */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      animation: fadeIn 0.3s;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .modal-content {
      background: white;
      margin: 3% auto;
      padding: 2rem;
      width: 90%;
      max-width: 600px;
      border-radius: 10px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      animation: slideDown 0.3s;
      max-height: 90vh;
      overflow-y: auto;
    }

    @keyframes slideDown {
      from {
        transform: translateY(-50px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .modal-content h2 {
      margin-bottom: 1.5rem;
      color: #2c3e50;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
      color: #495057;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
      font-family: inherit;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #3498db;
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
    }

    .btn-submit {
      background: #3498db;
      color: white;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: bold;
    }

    .btn-submit:hover {
      background: #2980b9;
    }

    .btn-cancel {
      background: #95a5a6;
      color: white;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-left: 0.5rem;
      font-size: 1rem;
    }

    .btn-cancel:hover {
      background: #7f8c8d;
    }

    /* 로딩 스피너 */
    .loading {
      text-align: center;
      padding: 2rem;
      color: #95a5a6;
    }

    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #3498db;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    /* 빈 상태 */
    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
      color: #95a5a6;
    }

    .empty-state h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    .content-with-sidebar-wrapper {
      display: flex;
      max-width: 1480px;
      /* 헤더 .container와 동일한 폭 */
      margin: 0 auto;
      padding: 0 20px;
      gap: 30px;
      /* 본문과 사이드바 사이 간격 */
      align-items: flex-start;
    }

    .main-content-area {
      flex: 1;
      /* 남은 공간 모두 차지 */
      min-width: 0;
      /* Flexbox 넘침 방지 */
    }

    /* 본문 내부의 .container는 래퍼의 규칙을 따르도록 초기화 */
    .main-content-area .container {
      max-width: 100% !important;
      padding: 0 !important;
      margin: 0 !important;
    }

    .research-sidebar {
      width: 320px;
      /* 사이드바 고정 너비 */
      flex-shrink: 0;
    }

    /* 반응형: 비활성화 (고정 레이아웃) */
    /*
    @media (max-width: 1024px) {
      .content-with-sidebar-wrapper {
        flex-direction: column;
      }
      .research-sidebar {
        width: 100%;
        margin-top: 2rem;
      }
    }
    */

    /* === 상단 글로벌 네비게이션 정렬 (오른쪽 정렬) === */
    .global-nav .container {
      display: flex;
      justify-content: flex-end;
      /* 오른쪽 끝으로 정렬 */
    }

    /* 반응형 */
    @media (max-width: 768px) {
      .board-table {
        font-size: 0.9rem;
      }

      .board-table th,
      .board-table td {
        padding: 0.75rem 0.5rem;
      }

      .job-image {
        width: 40px;
        height: 40px;
      }
    }

    /* === Story Board Styles (Fancy) === */
    #story-board-section {
      padding: 2rem 0;
      background: #f8f9fa;
      /* Light background for contrast */
      min-height: 80vh;
    }

    /* === 게시판 레이아웃 with 사이드바 === */
    .board-layout {
      display: flex;
      gap: 2rem;
      margin-top: 2rem;
    }

    /* 왼쪽 사이드바 (세부 메뉴) */
    .board-sidebar {
      width: 240px;
      flex-shrink: 0;
      background: #ffffff;
      border-radius: 12px;
      padding: 1.25rem 0;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
      align-self: flex-start;
      border: 1px solid #e9ecef;
    }

    .board-sidebar h3 {
      padding: 0.75rem 1.25rem 0.5rem 1.25rem;
      margin-bottom: 0.5rem;
      margin-top: 0.75rem;
      font-size: 0.85rem;
      color: #6c757d;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: 2px solid #e9ecef;
      padding-bottom: 0.5rem;
    }

    .board-sidebar h3:first-child {
      margin-top: 0;
    }

    .board-sidebar ul {
      list-style: none;
      padding-bottom: 0.5rem;
    }

    .board-sidebar li {
      margin: 0.15rem 0.5rem;
    }

    .board-sidebar a {
      display: block;
      padding: 0.7rem 0.75rem;
      text-decoration: none;
      color: #495057;
      font-weight: 500;
      font-size: 0.95rem;
      transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 8px;
      border-left: 3px solid transparent;
      position: relative;
    }

    .board-sidebar a:hover {
      background: linear-gradient(90deg, #f0f7ff 0%, #ffffff 100%);
      color: #3498db;
      border-left-color: #3498db;
      transform: translateX(3px);
      box-shadow: 0 2px 6px rgba(52, 152, 219, 0.1);
    }

    .board-sidebar a.active {
      background: linear-gradient(90deg, #e3f2fd 0%, #f0f7ff 100%);
      color: #2980b9;
      border-left-color: #2980b9;
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(52, 152, 219, 0.15);
    }

    .board-sidebar a.active::after {
      content: "●";
      position: absolute;
      right: 0.75rem;
      color: #2980b9;
      font-size: 0.5rem;
      top: 50%;
      transform: translateY(-50%);
    }

    /* 오른쪽 게시판 컨텐츠 */
    .board-content {
      flex: 1;
      min-width: 0;
    }

    /* 게시판 준비중 메시지 */
    .board-message {
      text-align: center;
      padding: 3rem;
      color: #7f8c8d;
    }

    .board-message h3 {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: #2c3e50;
    }

    .board-message p {
      font-size: 1rem;
    }

    /* 페이지 제목 배너 (사이드바 위) */
    .page-title-banner {
      width: 240px;
      text-align: center;
      margin-bottom: 2rem;
      padding: 1rem 1.33rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.25);
    }

    .page-title-banner h1 {
      margin: 0;
      font-size: 1.33rem;
      font-weight: 700;
      color: #ffffff;
      letter-spacing: 1px;
    }

    /* 게시판 제목 배너 - 숨김 처리 */
    .board-title-banner {
      display: none;
    }

    /* 테이블 셀 줄바꿈 방지 */
    .board-table td {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding: 1rem;
      vertical-align: middle;
    }

    /* 체크박스 셀 */
    .board-table td.checkbox-cell {
      text-align: center;
      padding: 0.5rem;
      width: 45px;
    }

    /* 로고 셀 */
    .board-table td.logo-cell {
      text-align: center;
      padding: 0.5rem;
    }

    /* 기관명 셀 - 적절한 줄바꿈 허용 */
    .board-table td.company-cell {
      white-space: normal;
      word-break: keep-all;
      line-height: 1.5;
      min-width: 180px;
      max-width: 220px;
    }

    /* 제목 셀 - 줄바꿈 허용 */
    .board-table td.title-cell {
      white-space: normal;
      word-break: break-word;
      line-height: 1.5;
    }

    /* 고용유형, 마감일 셀 */
    .board-table td.employment-cell,
    .board-table td.deadline-cell {
      white-space: nowrap;
      text-align: center;
    }

    /* 페이지네이션 */
    .pagination-container {
      margin-top: 2rem;
      text-align: center;
    }

    .pagination {
      display: inline-flex;
      gap: 0.5rem;
      justify-content: center;
      align-items: center;
    }

    .pagination button,
    .pagination span {
      min-width: 36px;
      height: 36px;
      padding: 0.5rem;
      border: 1px solid #dee2e6;
      background: white;
      color: #495057;
      cursor: pointer;
      border-radius: 6px;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .pagination button:hover:not(:disabled) {
      background: #f8f9fa;
      border-color: #3498db;
      color: #3498db;
    }

    .pagination button.active {
      background: #3498db;
      border-color: #3498db;
      color: white;
      font-weight: 600;
    }

    .pagination button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .pagination .ellipsis {
      border: none;
      background: transparent;
      cursor: default;
    }

    /* 하단 등록 버튼 */
    .bottom-add-button {
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 2px solid #f1f3f5;
      text-align: center;
    }

    .bottom-add-button .btn-add {
      padding: 1rem 2.5rem;
      font-size: 1.05rem;
    }

    /* 일괄 삭제 버튼 영역 */
    .bulk-delete-container {
      margin-top: 1.5rem;
      padding: 1rem;
      text-align: center;
      background: #fff3cd;
      border-radius: 8px;
      border: 1px solid #ffc107;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }

    .btn-bulk-delete {
      background: #ff6b6b;
      color: white;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      transition: all 0.2s;
    }

    .btn-bulk-delete:hover {
      background: #ee5a52;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
    }

    .btn-bulk-delete:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    .btn-delete-all {
      background: #dc3545;
      color: white;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      transition: all 0.2s;
    }

    .btn-delete-all:hover {
      background: #c82333;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);
    }

    /* 체크박스 스타일 */
    .board-table input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
      accent-color: #3498db;
    }

    #selectedCount {
      font-weight: 700;
      color: #dc3545;
    }

    .story-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding: 0 1rem;
    }

    .story-header h1 {
      font-size: 2.5rem;
      font-weight: 800;
      background: none;
      -webkit-background-clip: unset;
      -webkit-text-fill-color: initial;
      color: #111;
      margin: 0;
    }

    .btn-write-story {
      background: #222;
      color: white;
      border: none;
      padding: 10px 24px;
      font-size: 1rem;
      font-weight: bold;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-write-story:hover {
      transform: translateY(-2px);
      background: #000;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }



    .story-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 24px;
      padding: 0 1rem;
    }



    /* Helper for sidebar toggle */
    .full-width-wrapper .research-sidebar {
      display: none !important;
    }

    .full-width-wrapper .main-content-area {
      width: 100% !important;
      flex: none !important;
      max-width: 100% !important;
    }

    /* === 회원가입 모달 스타일 (JobKorea 벤치마킹) === */
    .signup-modal .modal-content {
      max-width: 800px;
      /* 좀 더 넓게 */
      padding: 0;
      border-radius: 4px;
      overflow: hidden;
    }

    .signup-header {
      padding: 20px;
      border-bottom: 2px solid #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #fff;
    }

    .signup-header h2 {
      margin: 0;
      font-size: 20px;
      color: #333;
      font-weight: bold;
    }

    .btn-close-modal {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #666;
    }

    .signup-body {
      padding: 20px 30px;
      max-height: 70vh;
      overflow-y: auto;
      background: #fff;
    }

    .row_group {
      margin-bottom: 30px;
    }

    .row_group h4 {
      font-size: 16px;
      color: #333;
      margin-bottom: 10px;
      font-weight: bold;
    }

    .mbr_info .row {
      display: flex;
      align-items: center;
      border-bottom: 1px solid #e1e1e1;
      padding: 10px 0;
    }

    .mbr_info .col_1 {
      width: 160px;
      color: #333;
      font-weight: bold;
      padding-left: 10px;
      font-size: 14px;
    }

    .mbr_info .col_2 {
      flex: 1;
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 5px;
    }

    .mbr_info .col_3 {
      margin-left: 10px;
    }

    .mbr_info input[type="text"],
    .mbr_info input[type="password"],
    .mbr_info input[type="tel"],
    .mbr_info input[type="email"] {
      height: 36px;
      border: 1px solid #ccc;
      padding: 0 10px;
      font-size: 14px;
      min-width: 200px;
    }

    .mbr_info input[type="radio"] {
      margin-right: 5px;
    }

    .mbr_info label {
      margin-right: 15px;
      font-weight: normal;
      font-size: 14px;
    }

    .notice_msg {
      width: 100%;
      font-size: 12px;
      color: #e74c3c;
      margin-top: 5px;
      display: none;
      /* JS로 제어 */
    }

    .btnHelp {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #999;
      color: #fff;
      border: none;
      font-size: 12px;
      cursor: pointer;
      margin-left: 5px;
    }

    .mbrBtnAuth,
    .buttonSendCertification,
    .btnConfirm,
    .btnSend {
      height: 36px;
      padding: 0 10px;
      background: #3498db;
      border: 1px solid #3498db;
      color: #fff;
      cursor: pointer;
      font-size: 13px;
      border-radius: 4px;
    }

    .mbrBtnAuth:hover,
    .buttonSendCertification:hover,
    .btnConfirm:hover,
    .btnSend:hover {
      background: #2980b9;
    }

    /* 약관 동의 */
    .policy_check_all {
      background: #f8f9fa;
      border: 1px solid #e1e1e1;
      padding: 15px;
      margin-bottom: 15px;
      font-weight: bold;
      font-size: 14px;
    }

    .policy_check_service {
      margin-bottom: 10px;
      font-size: 14px;
    }

    .policy_check_privacyOptional,
    .check_sms {
      font-size: 14px;
      margin-bottom: 10px;
    }

    .mbrBtnPolicy {
      font-size: 12px;
      color: #888;
      text-decoration: underline;
      margin-left: 5px;
      cursor: pointer;
    }

    .policyTplBox {
      border: 1px solid #d9d9d9;
      padding: 10px;
      height: 100px;
      overflow-y: scroll;
      background: #fff;
      font-size: 12px;
      color: #666;
      margin-top: 5px;
      margin-bottom: 15px;
      display: block;
    }

    .policyTplBox ol,
    .policyTplBox ul {
      padding-left: 20px;
    }

    .policyTplBox li {
      margin-bottom: 5px;
    }

    .regist_complete {
      margin-top: 30px;
      text-align: center;
    }

    .mbrBtnRegist {
      width: 100%;
      height: 50px;
      background: #3498db;
      color: #fff;
      font-size: 18px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      border-radius: 4px;
    }

    .mbrBtnRegist:hover {
      background: #2980b9;
    }
  </style>
</head>

<body>
  <!-- 상단 글로벌 네비게이션 -->
  <div class="global-nav">
    <div class="container">
      <ul class="global-nav-links">
        <li><a href="#" onclick="openLoginModal(); return false;" id="nav-login">로그인</a></li>
        <li><a href="#" onclick="openSignupModal(); return false;" id="nav-signup">회원가입</a></li>
        <li><a href="#" onclick="handleLogout()" id="nav-logout" style="display:none;">로그아웃</a></li>
        <li><a href="#service-intro">서비스 소개</a></li>
        <li><a class="cta-link" href="#service-apply">서비스 신청</a></li>
        <li><a href="#support">고객센터</a></li>
      </ul>
    </div>
  </div>
  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <a href="#" onclick="window.goHome(); return false;"
            style="text-decoration:none; display:flex; align-items:center;">
            <img alt="브레인넷 로고" src="./CI2.png" style="height:50px;width:auto;object-fit:contain;" />
            <div class="logo-text"></div>
          </a>
        </div>
        <nav>
          <button aria-label="메뉴 열기" class="menu-toggle" type="button">메뉴</button>
          <div class="nav-links">
            <a href="#" onclick="checkLoginAndExecute(showBoard, '채용정보를 보려면 로그인이 필요합니다.'); return false;">채용정보</a>
            <a href="#" onclick="checkLoginAndExecute(function() { alert('준비 중입니다.'); }, '공공게시판을 보려면 로그인이 필요합니다.'); return false;">공공게시판</a>
            <a href="#" onclick="checkLoginAndExecute(function() { alert('준비 중입니다.'); }, '공공기관 뉴스를 보려면 로그인이 필요합니다.'); return false;">공공기관 뉴스</a>
            <a href="#" onclick="checkLoginAndExecute(function() { alert('준비 중입니다.'); }, '공모전 소식을 보려면 로그인이 필요합니다.'); return false;">공모전 소식</a>
            <a href="#" onclick="checkLoginAndExecute(showStoryBoard, '취업 이야기를 보려면 로그인이 필요합니다.'); return false;" style="color: #666; font-weight:bold;">취업 이야기</a>
            <a href="#" onclick="checkLoginAndExecute(function() { alert('준비 중입니다.'); }, '마이메뉴를 보려면 로그인이 필요합니다.'); return false;">마이메뉴</a>
          </div>
        </nav>
      </div>
    </div>
  </header>
  <!-- 레이아웃 래퍼 시작 (사이드바 + 메인 콘텐츠) -->
  <div class="content-with-sidebar-wrapper">
    <!-- 메인 콘텐츠 영역 시작 -->
    <div class="main-content-area">

      <!-- 프리미엄 채용정보: 4개 카드 한 줄 -->
      <section class="section section--compact" id="features">
        <div class="container">
          <h2 class="section-title">프리미엄 채용정보 <span class="apply">상품신청&gt;</span></h2>
          <div class="premium-carousel-wrapper">
            <div class="job-grid job-grid--premium premium-carousel-container">
              <a aria-label="프리미엄 - 한국전력공사 채용공고 이동" class="job-card" data-url="https://recruit.incruit.com/i815/"
                href="javascript:void(0)" role="button">
                <img alt="독립기념관" class="banner-image" src="./독립기념관.png" />
                <h3>독립기념관</h3>
                <p>신입·경력 / 사무·전기</p>
                <div class="deadline"><strong>마감:</strong> 2025.10.20 <span
                    style="color:#e74c3c;font-weight:600;">D-3</span></div>
              </a>
              <a aria-label="프리미엄 - 한국수력원자력 채용공고 이동" class="job-card" data-url="https://kospo.machuda.kr"
                href="javascript:void(0)" role="button">
                <img alt="한국남부발전" class="banner-image" src="./한국남부발전.png" />
                <h3>한국남부발전</h3>
                <p>사무·기술</p>
                <div class="deadline"><strong>마감:</strong> 2025.10.22 <span
                    style="color:#e74c3c;font-weight:600;">D-5</span></div>
              </a>
              <a aria-label="프리미엄 - 한국도로공사 채용공고 이동" class="job-card" data-url="http://ksif.fairyhr.com/"
                href="javascript:void(0)" role="button">
                <img alt="세종학당재단" class="banner-image" src="./세종학당재단.png" />
                <h3>세종학당재단</h3>
                <p>토목·전기·통신</p>
                <div class="deadline"><strong>마감:</strong> 2025.10.17 <span
                    style="color:#e74c3c;font-weight:600;">D-0</span></div>
              </a>
              <a aria-label="프리미엄 - 국민건강보험공단 채용공고 이동" class="job-card"
                data-url="https://www.nps.or.kr/pnsgdnc/hiregdnc/getOHAE0004M0List.do?menuId=MN24000969"
                href="javascript:void(0)" role="button">
                <img alt="국민연금공단" class="banner-image" src="./국민연금공단.png" />
                <h3>국민연금공단</h3>
                <p>청년인턴</p>
                <div class="deadline"><strong>마감:</strong> 2025.10.16 <span
                    style="color:#e74c3c;font-weight:600;">D-1</span></div>
              </a>
            </div>
          </div>
        </div>
      </section>
      <!-- 최신 채용정보: 카드 디자인을 배너형으로 업데이트 -->
      <section class="section section--tight-top" id="jobs" style="background: white;">
        <div class="container">
          <h2 class="section-title">추천 채용정보 <span class="apply">상품신청&gt;</span></h2>
          <div class="job-grid">
            <a aria-label="한국전력공사 채용공고 상세로 이동" class="job-card" data-job="1" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국전력공사" class="banner-image" src="./한국전력공사.jpg" />
              <h3 title="2025년도 4직급 전문인력 채용공고">2025년도 4직급 전문인력 채용공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 경기 외 · 마감: 2025-10-01 D-12</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="국립호남권생물자원관 채용공고 상세로 이동" class="job-card" data-job="2" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="국립호남권생물자원관" class="banner-image" src="./국립호남권생물자원관.jpg" />
              <h3 title="2025년 국립호남권생물자원관 정규직 수시채용 공고">2025년 국립호남권생물자원관 정규직 수시채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 전남 · 마감: 2025-10-02 D-13</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국문화예술위원회 채용공고 상세로 이동" class="job-card" data-job="3" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국문화예술위원회" class="banner-image" src="./한국문화예술위원회.jpg" />
              <h3 title="2025년 한국문화예술위원회 무대예술팀 일반직 신입사원(무대) 채용">2025년 한국문화예술위원회 무대예술팀 일반직 신입사원(무대) 채용</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 · 마감: 2025-10-01 D-12</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국전력공사 채용공고 상세로 이동" class="job-card" data-job="4" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국전력공사" class="banner-image" src="./한국전력공사.jpg" />
              <h3 title="2025년 하반기 보훈 채용공고">2025년 하반기 보훈 채용공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 외 · 마감: 2025-10-01 D-12</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="사립학교교직원연금공단 채용공고 상세로 이동" class="job-card" data-job="5" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="사립학교교직원연금공단" class="banner-image" src="./사립학교교직원연금공단.jpg" />
              <h3 title="2025년도 사립학교교직원연금공단 하반기 정규직(고졸) 채용 공고">2025년도 사립학교교직원연금공단 하반기 정규직(고졸) 채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 외 · 마감: 2025-10-02 D-13</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="사립학교교직원연금공단 채용공고 상세로 이동" class="job-card" data-job="6" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="사립학교교직원연금공단" class="banner-image" src="./사립학교교직원연금공단.jpg" />
              <h3 title="2025년도 사립학교교직원연금공단 하반기 정규직(장애, 보훈) 채용 공고">2025년도 사립학교교직원연금공단 하반기 정규직(장애, 보훈) 채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 외 · 마감: 2025-10-02 D-13</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국연구재단 채용공고 상세로 이동" class="job-card" data-job="7" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국연구재단" class="banner-image" src="./한국연구재단.jpg" />
              <h3 title="2025년도 제2차 한국연구재단 직원 채용 공고(연구직)">2025년도 제2차 한국연구재단 직원 채용 공고(연구직)</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 외 · 마감: 2025-10-01 D-12</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국콘텐츠진흥원 채용공고 상세로 이동" class="job-card" data-job="8" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국콘텐츠진흥원" class="banner-image" src="./한국콘텐츠진흥원.jpg" />
              <h3 title="2025년 4분기 한국콘텐츠진흥원 신입직원 채용 공고">2025년 4분기 한국콘텐츠진흥원 신입직원 채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 전남 · 마감: 2025-10-01 D-12</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국서부발전(주) 채용공고 상세로 이동" class="job-card" data-job="9" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국서부발전(주)" class="banner-image" src="./한국서부발전(주).jpg" />
              <h3 title="2025년도 하반기 별정직 신입사원 모집공고">2025년도 하반기 별정직 신입사원 모집공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 인천 외 · 마감: 2025-09-30 D-11</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="무역안보관리원 채용공고 상세로 이동" class="job-card" data-job="10" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="무역안보관리원" class="banner-image" src="./무역안보관리원.jpg" />
              <h3 title="2025년도 하반기 무역안보관리원 정규직 신입직원 채용 공고">2025년도 하반기 무역안보관리원 정규직 신입직원 채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 · 마감: 2025-10-01 D-12</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국수력원자력(주) 채용공고 상세로 이동" class="job-card" data-job="11" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국수력원자력(주)" class="banner-image" src="./한국수력원자력(주).jpg" />
              <h3 title="2025년도 제4차 신입사원(대졸수준 해외사업 개발·관리 전형) 선발">2025년도 제4차 신입사원(대졸수준 해외사업 개발·관리 전형) 선발</h3>
              <p>정규직</p>
              <p class="meta">근무지: 부산 외 · 마감: 2025-10-01 D-12</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="통일연구원 채용공고 상세로 이동" class="job-card" data-job="12" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="통일연구원" class="banner-image" src="./통일연구원.jpg" />
              <h3 title="[채용] 2025년 정규직 부연구위원 공개채용 공고(제2025-07호)">[채용] 2025년 정규직 부연구위원 공개채용 공고(제2025-07호)</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 · 마감: 2025-09-30 D-11</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국소방산업기술원 채용공고 상세로 이동" class="job-card" data-job="13" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국소방산업기술원" class="banner-image" src="./한국소방산업기술원.jpg" />
              <h3 title="2025년 한국소방산업기술원 정규직 채용">2025년 한국소방산업기술원 정규직 채용</h3>
              <p>정규직</p>
              <p class="meta">근무지: 경기 외 · 마감: 2025-09-29 D-10</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국교육과정평가원 채용공고 상세로 이동" class="job-card" data-job="14" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국교육과정평가원" class="banner-image" src="./한국교육과정평가원.jpg" />
              <h3 title="2025년 제2차 한국교육과정평가원 연구직 채용 공고">2025년 제2차 한국교육과정평가원 연구직 채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 충북 · 마감: 2025-09-26 D-7</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국전력공사 채용공고 상세로 이동" class="job-card" data-job="15" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국전력공사" class="banner-image" src="./한국전력공사.jpg" />
              <h3 title="2025년도 하반기 대졸수준 채용공고">2025년도 하반기 대졸수준 채용공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 외 · 마감: 2025-10-01 D-12</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국공항공사 채용공고 상세로 이동" class="job-card" data-job="16" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국공항공사" class="banner-image" src="./한국공항공사.jpg" />
              <h3 title="한국공항공사 경력직(조류전문가) 공개채용">한국공항공사 경력직(조류전문가) 공개채용</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 외 · 마감: 2025-09-23 D-4</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국전력공사 채용공고 상세로 이동" class="job-card" data-job="17" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국전력공사" class="banner-image" src="./한국전력공사.jpg" />
              <h3 title="2025년도 제4차 전문직원 채용">2025년도 제4차 전문직원 채용</h3>
              <p>정규직</p>
              <p class="meta">근무지: 전남 · 마감: 2025-10-01 D-12</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="과학기술정책연구원 채용공고 상세로 이동" class="job-card" data-job="18" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="과학기술정책연구원" class="banner-image" src="./과학기술정책연구원.jpg" />
              <h3 title="과학기술정책연구원 8차 연구직/전문연구직(정규직) 채용">과학기술정책연구원 8차 연구직/전문연구직(정규직) 채용</h3>
              <p>정규직</p>
              <p class="meta">근무지: 세종 · 마감: 2025-09-24 D-5</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국에너지정보문화재단 채용공고 상세로 이동" class="job-card" data-job="19" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국에너지정보문화재단" class="banner-image" src="./한국에너지정보문화재단.jpg" />
              <h3 title="2025 한국에너지정보문화재단 제2차 채용(정규직) 공고">2025 한국에너지정보문화재단 제2차 채용(정규직) 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 · 마감: 2025-09-23 D-4</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국문화관광연구원 채용공고 상세로 이동" class="job-card" data-job="20" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국문화관광연구원" class="banner-image" src="./한국문화관광연구원.jpg" />
              <h3 title="한국문화관광연구원 2025년 하반기 직원 채용 공고(연구직 3명, 행정직 2명)">한국문화관광연구원 2025년 하반기 직원 채용 공고(연구직 3명, 행정직 …</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 · 마감: 2025-09-22 D-3</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국해양수산개발원 채용공고 상세로 이동" class="job-card" data-job="21" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국해양수산개발원" class="banner-image" src="./한국해양수산개발원.jpg" />
              <h3 title="2025년 한국해양수산개발원 제2차 정규직 연구직 석사 채용">2025년 한국해양수산개발원 제2차 정규직 연구직 석사 채용</h3>
              <p>정규직</p>
              <p class="meta">근무지: 부산 · 마감: 2025-09-24 D-5</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="(사)남북교류협력지원협회 채용공고 상세로 이동" class="job-card" data-job="22" data-url=""
              href="javascript:void(0)" role="button">
              <img alt="(사)남북교류협력지원협회" class="banner-image" src="./(사)남북교류협력지원협회.jpg" />
              <h3 title="2025년도 제3차 남북교류협력지원협회 직원 채용 공고">2025년도 제3차 남북교류협력지원협회 직원 채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 서울 · 마감: 2025-09-19 D-0</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국고용정보원 채용공고 상세로 이동" class="job-card" data-job="23" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국고용정보원" class="banner-image" src="./한국고용정보원.jpg" />
              <h3 title="2025년도 한국고용정보원 3차 직원 채용 공고">2025년도 한국고용정보원 3차 직원 채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 충북 · 마감: 2025-09-19 D-0</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="부산항만공사 채용공고 상세로 이동" class="job-card" data-job="24" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="부산항만공사" class="banner-image" src="./부산항만공사.jpg" />
              <h3 title="부산항만공사 정규직 신입사원 채용 공고">부산항만공사 정규직 신입사원 채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 부산 · 마감: 2025-09-24 D-5</p>
              <div class="job-badges"></div>
            </a>

            <a aria-label="한국부동산원 채용공고 상세로 이동" class="job-card" data-job="25" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="한국부동산원" class="banner-image" src="./한국부동산원.jpg" />
              <h3 title="한국부동산원 주택·상가건물 임대차분쟁조정위원회 사무국장 채용 공고">한국부동산원 주택·상가건물 임대차분쟁조정위원회 사무국장 채용 공고</h3>
              <p>정규직</p>
              <p class="meta">근무지: 인천 외 · 마감: 2025-09-25 D-6</p>
              <div class="job-badges"></div>
            </a>
            <a aria-label="한국무역보험공사 채용공고 상세로 이동" class="job-card ad" data-job="18" data-url="" href="javascript:void(0)"
              role="button">
              <div class="ad-title">공공브레인넷 광고 문의</div>
              <div class="ad-phone"><svg aria-hidden="true" viewbox="0 0 24 24">
                  <path
                    d="M6.62 10.79a15.053 15.053 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 011 1V21a1 1 0 01-1 1C10.97 22 2 13.03 2 2a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.46.57 3.58a1 1 0 01-.24 1.01l-2.2 2.2z">
                  </path>
                </svg> 042)629-8159</div><span class="ad-cta">상품신청</span>
            </a>
            <a aria-label="한국무역보험공사 채용공고 상세로 이동" class="job-card ad" data-job="18" data-url="" href="javascript:void(0)"
              role="button">
              <div class="ad-title">공공브레인넷 광고 문의</div>
              <div class="ad-phone"><svg aria-hidden="true" viewbox="0 0 24 24">
                  <path
                    d="M6.62 10.79a15.053 15.053 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 011 1V21a1 1 0 01-1 1C10.97 22 2 13.03 2 2a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.46.57 3.58a1 1 0 01-.24 1.01l-2.2 2.2z">
                  </path>
                </svg> 042)629-8159</div><span class="ad-cta">상품신청</span>
            </a>
            <a aria-label="한국무역보험공사 채용공고 상세로 이동" class="job-card ad" data-job="18" data-url="" href="javascript:void(0)"
              role="button">
              <div class="ad-title">공공브레인넷 광고 문의</div>
              <div class="ad-phone"><svg aria-hidden="true" viewbox="0 0 24 24">
                  <path
                    d="M6.62 10.79a15.053 15.053 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 011 1V21a1 1 0 01-1 1C10.97 22 2 13.03 2 2a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.46.57 3.58a1 1 0 01-.24 1.01l-2.2 2.2z">
                  </path>
                </svg> 042)629-8159</div><span class="ad-cta">상품신청</span>
            </a>

          </div>
      </section>

      <section class="section section--tight-top" id="general-jobs" style="background: white;">
        <div class="container">
          <h2 class="section-title" style="color:#5c7cfa;">주요 채용정보 <span class="apply">상품신청&gt;</span></h2>
          <div class="job-grid">
            <a aria-label="한국항로표지기술원 채용공고 상세로 이동" class="job-card" data-job="g1" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 1" class="banner-image" src="./logo.png" />
              <h3>한국항로표지기술원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 세종 · <strong>마감:</strong> 2025.10.11 <span
                  style="color:#e74c3c;font-weight:600;">D-4</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국환경보전원 채용공고 상세로 이동" class="job-card" data-job="g2" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 2" class="banner-image" src="./logo.png" />
              <h3>한국환경보전원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 경기 · <strong>마감:</strong> 2025.10.12 <span
                  style="color:#e74c3c;font-weight:600;">D-5</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국문화관광연구원 채용공고 상세로 이동" class="job-card" data-job="g3" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 3" class="banner-image" src="./logo.png" />
              <h3>한국문화관광연구원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 서울 · <strong>마감:</strong> 2025.10.13 <span
                  style="color:#e74c3c;font-weight:600;">D-6</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="충남대학교병원 채용공고 상세로 이동" class="job-card" data-job="g4" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 4" class="banner-image" src="./logo.png" />
              <h3>충남대학교병원</h3>
              <p>정규직</p>
              <p><strong>근무지:</strong> 대전 · <strong>마감:</strong> 2025.10.14 <span
                  style="color:#e74c3c;font-weight:600;">D-7</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="분당서울대학교병원 채용공고 상세로 이동" class="job-card" data-job="g5" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 5" class="banner-image" src="./logo.png" />
              <h3>분당서울대학교병원</h3>
              <p>정규직</p>
              <p><strong>근무지:</strong> 경기 · <strong>마감:</strong> 2025.10.15 <span
                  style="color:#e74c3c;font-weight:600;">D-8</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한전KDN 채용공고 상세로 이동" class="job-card" data-job="g6" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 6" class="banner-image" src="./logo.png" />
              <h3>한전KDN</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 경남 · <strong>마감:</strong> 2025.10.16 <span
                  style="color:#e74c3c;font-weight:600;">D-9</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="KDI국제정책대학원 채용공고 상세로 이동" class="job-card" data-job="g7" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 7" class="banner-image" src="./logo.png" />
              <h3>KDI국제정책대학원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 세종 · <strong>마감:</strong> 2025.10.17 <span
                  style="color:#e74c3c;font-weight:600;">D-10</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="국립생태원 채용공고 상세로 이동" class="job-card" data-job="g8" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 8" class="banner-image" src="./logo.png" />
              <h3>국립생태원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 충남 · <strong>마감:</strong> 2025.10.18 <span
                  style="color:#e74c3c;font-weight:600;">D-11</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국지식재산보호원 채용공고 상세로 이동" class="job-card" data-job="g9" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 9" class="banner-image" src="./logo.png" />
              <h3>한국지식재산보호원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 서울 · <strong>마감:</strong> 2025.10.19 <span
                  style="color:#e74c3c;font-weight:600;">D-12</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="(주)강원랜드 채용공고 상세로 이동" class="job-card" data-job="g10" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 10" class="banner-image" src="./logo.png" />
              <h3>(주)강원랜드</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 서울 외 4 · <strong>마감:</strong> 2025.10.20 <span
                  style="color:#e74c3c;font-weight:600;">D-13</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="에너지경제연구원 채용공고 상세로 이동" class="job-card" data-job="g11" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 11" class="banner-image" src="./logo.png" />
              <h3>에너지경제연구원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 울산 · <strong>마감:</strong> 2025.10.21 <span
                  style="color:#e74c3c;font-weight:600;">D-14</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국농수산식품유통공사 채용공고 상세로 이동" class="job-card" data-job="g12" data-url=""
              href="javascript:void(0)" role="button">
              <img alt="기관 12" class="banner-image" src="./logo.png" />
              <h3>한국농수산식품유통공사</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 경기 외 1 · <strong>마감:</strong> 2025.10.22 <span
                  style="color:#e74c3c;font-weight:600;">D-15</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국교육과정평가원 채용공고 상세로 이동" class="job-card" data-job="g13" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 13" class="banner-image" src="./logo.png" />
              <h3>한국교육과정평가원</h3>
              <p>정규직</p>
              <p><strong>근무지:</strong> 충북 · <strong>마감:</strong> 2025.10.23 <span
                  style="color:#e74c3c;font-weight:600;">D-16</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국석유관리원 채용공고 상세로 이동" class="job-card" data-job="g14" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 14" class="banner-image" src="./logo.png" />
              <h3>한국석유관리원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 서울 외 16 · <strong>마감:</strong> 2025.10.24 <span
                  style="color:#e74c3c;font-weight:600;">D-17</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국수목원정원관리원 채용공고 상세로 이동" class="job-card" data-job="g15" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 15" class="banner-image" src="./logo.png" />
              <h3>한국수목원정원관리원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 세종 · <strong>마감:</strong> 2025.10.25 <span
                  style="color:#e74c3c;font-weight:600;">D-18</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국도로교통공단 채용공고 상세로 이동" class="job-card" data-job="g16" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 16" class="banner-image" src="./logo.png" />
              <h3>한국도로교통공단</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 충남 · <strong>마감:</strong> 2025.10.26 <span
                  style="color:#e74c3c;font-weight:600;">D-19</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국남부발전(주) 채용공고 상세로 이동" class="job-card" data-job="g17" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 17" class="banner-image" src="./logo.png" />
              <h3>한국남부발전(주)</h3>
              <p>정규직</p>
              <p><strong>근무지:</strong> 인천 외 6 · <strong>마감:</strong> 2025.10.27 <span
                  style="color:#e74c3c;font-weight:600;">D-3</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="서울대학교병원 채용공고 상세로 이동" class="job-card" data-job="g18" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 18" class="banner-image" src="./logo.png" />
              <h3>서울대학교병원</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 서울 외 1 · <strong>마감:</strong> 2025.10.28 <span
                  style="color:#e74c3c;font-weight:600;">D-4</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국환경공단 채용공고 상세로 이동" class="job-card" data-job="g19" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 19" class="banner-image" src="./logo.png" />
              <h3>한국환경공단</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 인천 · <strong>마감:</strong> 2025.10.29 <span
                  style="color:#e74c3c;font-weight:600;">D-5</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
            <a aria-label="한국국토정보공사 채용공고 상세로 이동" class="job-card" data-job="g20" data-url="" href="javascript:void(0)"
              role="button">
              <img alt="기관 20" class="banner-image" src="./logo.png" />
              <h3>한국국토정보공사</h3>
              <p>비정규직</p>
              <p><strong>근무지:</strong> 전북 · <strong>마감:</strong> 2025.10.10 <span
                  style="color:#e74c3c;font-weight:600;">D-6</span></p>
              <div class="job-badges">
                <span class="badge">일반</span>
                <span class="badge">온라인접수</span>
              </div>
            </a>
          </div>
        </div>
      </section>


      <!-- [요청 반영] 공공기관 임직원 교육과정 (폭 일치 + 3열 + 높이 2배) -->
      <section class="section section--tight-top" id="edu-courses">
        <div class="container">
          <h2 class="section-title" style="color:#5c7cfa;">공공기관 임직원 교육과정 <span class="apply">상품신청&gt;</span> </h2>

          <div class="edu-banner-list">
            <!-- 배너 1 -->
            <a class="edu-banner" href="#" target="_blank" rel="noopener">
              <div class="thumb">
                <img src="https://www.maip.kr/data/editor/2509/38ef0815bfbceb5bab9b4b79c6e0224a_1758868464_5928.jpg"
                  alt="교육과정 1 썸네일">
              </div>
              <div class="meta">
                <h3>디지털 혁신과 공공 리더십</h3>
                <p>주관: K 공공교육원 · 11/04(월)~11/06(수)</p>
              </div>
            </a>

            <!-- 배너 2 -->
            <a class="edu-banner" href="#" target="_blank" rel="noopener">
              <div class="thumb">
                <img src="https://www.maip.kr/data/editor/2509/8f64df29ed2ac16f7d5bb85f8135bfaf_1757318289_4353.jpg"
                  alt="교육과정 2 썸네일">
              </div>
              <div class="meta">
                <h3>ESG 경영 실무(공공기관 특화)</h3>
                <p>주관: G 리서치 · 10/28(화)~10/29(수)</p>
              </div>
            </a>

            <!-- 배너 3 -->
            <a class="edu-banner" href="#" target="_blank" rel="noopener">
              <div class="thumb">
                <img src="https://www.maip.kr/data/editor/2509/8f64df29ed2ac16f7d5bb85f8135bfaf_1757318387_9057.jpg"
                  alt="교육과정 3 썸네일">
              </div>
              <div class="meta">
                <h3>조달·계약 컴플라이언스 집중</h3>
                <p>주관: P 컨설팅 · 11/12(화)~11/13(수)</p>
              </div>
            </a>

            <!-- 배너 4 -->
            <a class="edu-banner" href="#" target="_blank" rel="noopener">
              <div class="thumb">
                <img src="https://www.maip.kr/data/editor/2509/b86764943d17014c464ed47aecfad800_1757666722_5722.jpg"
                  alt="교육과정 3 썸네일">
              </div>
              <div class="meta">
                <h3>조달·계약 컴플라이언스 집중</h3>
                <p>주관: P 컨설팅 · 11/12(화)~11/13(수)</p>
              </div>
            </a>

            <!-- 배너 5 -->
            <a class="edu-banner" href="#" target="_blank" rel="noopener">
              <div class="thumb">
                <img src="https://www.maip.kr/data/editor/2509/38ef0815bfbceb5bab9b4b79c6e0224a_1758870913_8889.jpg"
                  alt="교육과정 3 썸네일">
              </div>
              <div class="meta">
                <h3>조달·계약 컴플라이언스 집중</h3>
                <p>주관: P 컨설팅 · 11/12(화)~11/13(수)</p>
              </div>
            </a>

            <!-- 배너 6 -->
            <a class="edu-banner" href="#" target="_blank" rel="noopener">
              <div class="thumb">
                <img src="https://www.maip.kr/data/editor/2509/97d4a2481f17c2a7a3beec14aeac362c_1758248304_772.jpg"
                  alt="교육과정 3 썸네일">
              </div>
              <div class="meta">
                <h3>조달·계약 컴플라이언스 집중</h3>
                <p>주관: P 컨설팅 · 11/12(화)~11/13(수)</p>
              </div>
            </a>

            <!-- 배너 7 -->
            <a class="edu-banner" href="#" target="_blank" rel="noopener">
              <div class="thumb">
                <img src="https://www.maip.kr/data/editor/2509/38ef0815bfbceb5bab9b4b79c6e0224a_1758870949_5722.jpg"
                  alt="교육과정 3 썸네일">
              </div>
              <div class="meta">
                <h3>조달·계약 컴플라이언스 집중</h3>
                <p>주관: P 컨설팅 · 11/12(화)~11/13(수)</p>
              </div>
            </a>

            <!-- 배너 8 -->
            <a class="edu-banner" href="#" target="_blank" rel="noopener">
              <div class="thumb">
                <img src="https://www.maip.kr/data/editor/2509/38ef0815bfbceb5bab9b4b79c6e0224a_1758870975_5712.jpg"
                  alt="교육과정 3 썸네일">
              </div>
              <div class="meta">
                <h3>조달·계약 컴플라이언스 집중</h3>
                <p>주관: P 컨설팅 · 11/12(화)~11/13(수)</p>
              </div>
            </a>

            <!-- 배너 9 -->
            <a class="edu-banner" href="#" target="_blank" rel="noopener">
              <div class="thumb">
                <img src="https://www.maip.kr/data/editor/2509/38ef0815bfbceb5bab9b4b79c6e0224a_1758871148_1617.jpg"
                  alt="교육과정 3 썸네일">
              </div>
              <div class="meta">
                <h3>조달·계약 컴플라이언스 집중</h3>
                <p>주관: P 컨설팅 · 11/12(화)~11/13(수)</p>
              </div>
            </a>

            <!-- 필요 시 더 추가 -->
            <!-- 배너 4~6 ... 동일한 형식으로 복사/붙여넣기 -->
          </div>
        </div>
      </section>






      <!-- 상세 보기 섹션 (숨김 상태로 시작) -->
      <div id="detail-section" style="display:none; width:100%;">
        <div class="board-container">
          <div class="board-header">
            <h1 class="board-title">채용정보 상세</h1>
            <button class="btn-add" onclick="showBoard()" style="display:none;">목록으로</button>
          </div>

          <div class="detail-content-box"
            style="background:white; padding:2rem; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);">
            <div class="detail-header" style="border-bottom:1px solid #eee; padding-bottom:1rem; margin-bottom:1rem;">
              <span id="detail-badge" class="badge"
                style="background:#3498db; color:white; padding:0.3rem 0.6rem; border-radius:4px; font-size:0.8rem;"></span>
              <h2 id="detail-title" style="font-size:1.8rem; margin:0.5rem 0; color:#2c3e50;"></h2>
              <div style="color:#7f8c8d; font-size:0.95rem; margin-bottom:1rem;">
                <span id="detail-company" style="font-weight:bold; margin-right:10px;"></span>
                <span id="detail-date"></span>
              </div>
              
              <!-- 추가 정보 테이블 -->
              <div style="background:#f8f9fa; padding:1rem; border-radius:8px; margin-top:1rem;">
                <table style="width:100%; border-collapse:collapse;">
                  <tr>
                    <td style="padding:0.5rem; width:20%; font-weight:600; color:#495057;">NCS코드명</td>
                    <td id="detail-ncs-code" style="padding:0.5rem; width:30%; color:#212529;">-</td>
                    <td style="padding:0.5rem; width:20%; font-weight:600; color:#495057;">고용유형</td>
                    <td id="detail-employment-type" style="padding:0.5rem; width:30%; color:#212529;">-</td>
                  </tr>
                  <tr>
                    <td style="padding:0.5rem; font-weight:600; color:#495057;">채용구분</td>
                    <td id="detail-career-type" style="padding:0.5rem; color:#212529;">-</td>
                    <td style="padding:0.5rem; font-weight:600; color:#495057;">채용인원</td>
                    <td id="detail-recruitment-count" style="padding:0.5rem; color:#212529;">-</td>
                  </tr>
                  <tr>
                    <td style="padding:0.5rem; font-weight:600; color:#495057;">학력조건</td>
                    <td id="detail-education" style="padding:0.5rem; color:#212529;">-</td>
                    <td style="padding:0.5rem; font-weight:600; color:#495057;">마감일</td>
                    <td id="detail-closing-date" style="padding:0.5rem; color:#212529;">-</td>
                  </tr>
                  <tr>
                    <td style="padding:0.5rem; font-weight:600; color:#495057;">우대조건</td>
                    <td colspan="3" id="detail-preference" style="padding:0.5rem; color:#212529;">-</td>
                  </tr>
                  <tr>
                    <td style="padding:0.5rem; font-weight:600; color:#495057;">마감까지</td>
                    <td colspan="3" id="detail-days-left" style="padding:0.5rem; color:#e74c3c; font-weight:600;">-</td>
                  </tr>
                </table>
              </div>
            </div>

            <div class="detail-body" style="min-height:300px; line-height:1.8; font-size:1.1rem; color:#333;">
              <div id="detail-image-area" style="text-align:center; margin-bottom:2rem; display:none;">
                <img id="detail-main-image" src="" style="max-width:100%; max-height:400px; border-radius:8px;">
              </div>
              <div id="detail-desc" style="white-space: pre-wrap;"></div>
            </div>

            <div class="detail-footer"
              style="margin-top:2rem; border-top:1px solid #eee; padding-top:1rem; text-align:center;">
              <div id="detail-attachment-area" style="margin-bottom:1rem; text-align:left; display:none;">
                <strong>💾 첨부파일:</strong> <a id="detail-attachment-link" href="#" target="_blank"
                  style="color:#3498db; text-decoration:underline;"></a>
              </div>
              <button onclick="showBoard()" class="cta-button"
                style="background:#3498db; margin-right:10px; border:none; color:white; padding: 10px 20px; border-radius: 5px; cursor: pointer;">목록으로
                돌아가기</button>
              <a id="detail-link" href="#" target="_blank" rel="noopener noreferrer" class="cta-button" 
                style="display:none; background:#e74c3c; color:white; padding:12px 24px; border-radius:5px; text-decoration:none; font-weight:bold; font-size:1.05rem;">
                채용 사이트 방문 →
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- 게시판 섹션 (숨김 상태로 시작) -->
      <div id="board-section" style="display:none; width:100%;">
        <div class="container" style="max-width:1400px; margin:0 auto;">
          <!-- 페이지 제목 배너 -->
          <div class="page-title-banner">
            <h1>채용정보</h1>
          </div>

          <!-- 게시판 레이아웃: 사이드바 + 컨텐츠 -->
          <div class="board-layout">
            <!-- 왼쪽 사이드바 (세부 메뉴) -->
            <aside class="board-sidebar">
              <!-- 채용형태별 그룹 -->
              <h3>채용형태별</h3>
              <ul>
                <li><a href="#" onclick="switchBoard('intern'); return false;" id="board-menu-intern">인턴</a></li>
                <li><a href="#" onclick="switchBoard('entry-level'); return false;" id="board-menu-entry-level">신입</a></li>
                <li><a href="#" onclick="switchBoard('experienced'); return false;" id="board-menu-experienced">경력</a></li>
                <li><a href="#" onclick="switchBoard('regular'); return false;" id="board-menu-regular">정규직</a></li>
                <li><a href="#" onclick="switchBoard('contract'); return false;" id="board-menu-contract">비정규직</a></li>
              </ul>
              
              <!-- 기관유형별 그룹 -->
              <h3>기관유형별</h3>
              <ul>
                <li><a href="#" onclick="switchBoard('market-public'); return false;" id="board-menu-market-public" class="active">공기업(시장형)</a></li>
                <li><a href="#" onclick="switchBoard('quasi-market-public'); return false;" id="board-menu-quasi-market-public">공기업(준시장형)</a>
                </li>
                <li><a href="#" onclick="switchBoard('fund-quasi'); return false;"
                    id="board-menu-fund-quasi">준정부기관(기금관리형)</a></li>
                <li><a href="#" onclick="switchBoard('entrust-quasi'); return false;"
                    id="board-menu-entrust-quasi">준정부기관(위탁집행형)</a>
                </li>
                <li><a href="#" onclick="switchBoard('other-public'); return false;"
                    id="board-menu-other-public">기타공공기관</a></li>
                <li><a href="#" onclick="switchBoard('local-public'); return false;"
                    id="board-menu-local-public">지방공기업</a>
                </li>
                <li><a href="#" onclick="switchBoard('local-investment'); return false;"
                    id="board-menu-local-investment">지방출자·출연기관</a></li>
              </ul>
            </aside>

            <!-- 오른쪽 게시판 컨텐츠 -->
            <div class="board-content">
              <!-- 게시판 제목 배너 -->
              <div class="board-title-banner">
                <h2 id="currentBoardTitle">공기업(시장형)</h2>
              </div>

              <!-- 게시판 테이블 -->
              <div id="boardJobTable"
                style="background:white; padding:2rem; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);">

                <!-- 로딩 상태 -->
                <div id="loading" class="loading">
                  <div class="spinner"></div>
                  <p>로딩 중...</p>
                </div>

                <!-- 빈 상태 -->
                <div id="emptyState" class="empty-state" style="display: none;">
                  <h3>등록된 채용정보가 없습니다</h3>
                  <p>첫 번째 채용정보를 등록해보세요!</p>
                </div>

                <!-- 테이블 -->
                <table class="board-table" id="jobTable" style="display: none;">
                  <thead>
                    <tr>
                      <th id="checkbox-header" style="width: 45px; text-align: center; padding: 0.5rem; display:none;">
                        <input type="checkbox" id="selectAllJobs" onclick="toggleSelectAll()" title="전체 선택">
                      </th>
                      <th style="width: 70px; text-align: center;">로고</th>
                      <th style="width: 200px; min-width: 180px;">기관명</th>
                      <th style="min-width: 300px;">제목</th>
                      <th style="width: 110px; text-align: center;">고용유형</th>
                      <th style="width: 110px; text-align: center;">마감일</th>
                      <th id="job-mgmt-header" style="width: 180px; text-align: center; display:none;">관리</th>
                    </tr>
                  </thead>
                  <tbody id="jobTableBody">
                    <!-- Firebase에서 데이터를 가져와 여기에 표시됩니다 -->
                  </tbody>
                </table>

                <!-- 일괄 삭제 버튼 영역 (관리자용) -->
                <div id="bulkDeleteButtons" class="bulk-delete-container" style="display: none;">
                  <button class="btn-bulk-delete" onclick="deleteSelectedJobs()">
                    <span id="selectedCount">0</span>개 선택 삭제
                  </button>
                  <button class="btn-delete-all" onclick="deleteAllJobsInCategory()">
                    현재 카테고리 전체 삭제
                  </button>
                </div>

                <!-- 페이지네이션 -->
                <div id="pagination" class="pagination-container" style="display: none;">
                  <div class="pagination">
                    <!-- 페이지 번호들이 여기에 동적으로 추가됩니다 -->
                  </div>
                </div>

                <!-- 등록 버튼 (하단) -->
                <div class="bottom-add-button" style="display: none;">
                  <button class="btn-add" onclick="openAddModal()">+ 채용정보 등록</button>
                </div>
              </div>

              <!-- 게시판별 준비중 메시지 -->
              <div id="boardMessage" class="board-message"
                style="display:none; background:white; padding:3rem; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);">
                <h3>준비 중입니다</h3>
                <p>곧 새로운 게시판이 오픈됩니다!</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 등록 모달 -->
      <div id="addModal" class="modal">
        <div class="modal-content">
          <h2>📝 채용정보 등록</h2>
          <form onsubmit="addJob(event)">
            <div class="form-group">
              <label>채용공고제목 *</label>
              <input type="text" id="add_title" required placeholder="예: 2025년 상반기 신입사원 채용">
            </div>
            <div class="form-group">
              <label>기관명 *</label>
              <input type="text" id="add_company" required placeholder="예: 한국전력공사">
            </div>
            <div class="form-group">
              <label>고용유형</label>
              <input type="text" id="add_employment_type" placeholder="예: 정규직, 무기계약직">
            </div>
            <div class="form-group">
              <label>근무지역</label>
              <input type="text" id="add_location" placeholder="예: 서울, 인천, 대전 (콤마로 구분)">
            </div>
            <div class="form-group">
              <label>마감일</label>
              <input type="date" id="add_deadline">
            </div>
            
            <!-- 추가 필드들 -->
            <div class="form-group">
              <label>NCS코드명</label>
              <input type="text" id="add_ncs_code" placeholder="예: 경영.회계.사무, 건설, 기계 (콤마로 구분)">
            </div>
            <div class="form-group">
              <label>채용구분</label>
              <input type="text" id="add_career_type" placeholder="예: 신입, 경력, 신입·경력">
            </div>
            <div class="form-group">
              <label>채용인원</label>
              <input type="text" id="add_recruitment_count" placeholder="예: 0명, 00명 내외">
            </div>
            <div class="form-group">
              <label>학력조건</label>
              <input type="text" id="add_education" placeholder="예: 학력무관, 대졸(4년) 이상">
            </div>
            <div class="form-group">
              <label>우대조건</label>
              <textarea id="add_preference" rows="3" placeholder="예: 보훈대상자, 장애인, 이공계 전공자 우대" style="resize:vertical;"></textarea>
            </div>
            
            <div class="form-group">
              <label>로고 이미지 URL</label>
              <input type="text" id="add_image_url" placeholder="예: ./logo.png 또는 https://...">
            </div>
            <div class="form-group">
              <label>원본공고URL</label>
              <input type="text" id="add_detail_url" placeholder="예: https://...">
            </div>
            <div class="form-group">
              <label>내용 이미지 (JPG 등)</label>
              <input type="file" id="add_content_image" accept="image/*">
            </div>
            <div class="form-group">
              <label>첨부파일</label>
              <input type="file" id="add_attachment_file">
            </div>
            <div class="form-group">
              <label>상세 내용 (글쓰기)</label>
              <textarea id="add_content" rows="10" placeholder="채용 공고의 상세 내용을 자유롭게 작성하세요."
                style="resize:vertical;"></textarea>
            </div>
            <button type="submit" class="btn-submit">등록</button>
            <button type="button" class="btn-cancel" onclick="closeAddModal()">취소</button>
          </form>
        </div>
      </div>

      <!-- 수정 모달 -->
      <div id="editModal" class="modal">
        <div class="modal-content">
          <h2>✏️ 채용정보 수정</h2>
          <form onsubmit="updateJob(event)">
            <input type="hidden" id="edit_id">
            <div class="form-group">
              <label>채용공고제목 *</label>
              <input type="text" id="edit_title" required>
            </div>
            <div class="form-group">
              <label>기관명 *</label>
              <input type="text" id="edit_company" required>
            </div>
            <div class="form-group">
              <label>고용유형</label>
              <input type="text" id="edit_employment_type" placeholder="예: 정규직, 무기계약직">
            </div>
            <div class="form-group">
              <label>근무지역</label>
              <input type="text" id="edit_location" placeholder="예: 서울, 인천, 대전 (콤마로 구분)">
            </div>
            <div class="form-group">
              <label>마감일</label>
              <input type="date" id="edit_deadline">
            </div>
            
            <!-- 추가 필드들 -->
            <div class="form-group">
              <label>NCS코드명</label>
              <input type="text" id="edit_ncs_code" placeholder="예: 경영.회계.사무, 건설, 기계 (콤마로 구분)">
            </div>
            <div class="form-group">
              <label>채용구분</label>
              <input type="text" id="edit_career_type" placeholder="예: 신입, 경력, 신입·경력">
            </div>
            <div class="form-group">
              <label>채용인원</label>
              <input type="text" id="edit_recruitment_count" placeholder="예: 0명, 00명 내외">
            </div>
            <div class="form-group">
              <label>학력조건</label>
              <input type="text" id="edit_education" placeholder="예: 학력무관, 대졸(4년) 이상">
            </div>
            <div class="form-group">
              <label>우대조건</label>
              <textarea id="edit_preference" rows="3" placeholder="예: 보훈대상자, 장애인, 이공계 전공자 우대" style="resize:vertical;"></textarea>
            </div>
            
            <div class="form-group">
              <label>로고 이미지 URL</label>
              <input type="text" id="edit_image_url">
            </div>
            <div class="form-group">
              <label>원본공고URL</label>
              <input type="text" id="edit_detail_url">
            </div>
            <div class="form-group">
              <label>내용 이미지 (JPG 등)</label>
              <input type="file" id="edit_content_image" accept="image/*">
            </div>
            <div class="form-group">
              <label>첨부파일</label>
              <input type="file" id="edit_attachment_file">
            </div>
            <div class="form-group">
              <label>상세 내용 (글쓰기)</label>
              <textarea id="edit_content" rows="10" style="resize:vertical;"></textarea>
            </div>
            <button type="submit" class="btn-submit">수정</button>
            <button type="button" class="btn-cancel" onclick="closeEditModal()">취소</button>
          </form>
        </div>
      </div>

      <!-- 회원 관리 시스템 섹션 -->
      <div id="user-manage-section" style="display:none; width:100%;">
        <div class="board-container">
          <h1 class="board-title">회원 관리 시스템</h1>
          <div style="background:white; padding:2rem; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);">
            <table class="board-table">
              <thead>
                <tr>
                  <th>이름</th>
                  <th>이메일</th>
                  <th>권한</th>
                  <th>가입일</th>
                  <th>최근로그인</th>
                  <th>관리</th>
                </tr>
              </thead>
              <tbody id="userTableBody">
                <!-- 유저 목록 로드됨 -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- 취업 이야기 게시판 섹션 -->
      <div id="story-board-section" style="display:none; width:100%;">
        <div class="container" style="max-width:1400px; margin:0 auto;">
          <div class="story-header">
            <h1>취업 이야기</h1>
            <button class="btn-write-story" onclick="openWriteStoryModal()">✏️ 이야기 쓰기</button>
          </div>

          <!-- 게시판 레이아웃: 사이드바 + 컨텐츠 -->
          <div class="board-layout">
            <!-- 왼쪽 사이드바 (세부 메뉴) -->
            <aside class="board-sidebar">
              <h3>게시판</h3>
              <ul>
                <li><a href="#" onclick="switchStoryBoard('free'); return false;" id="story-menu-free"
                    class="active">자유게시판</a></li>
                <li><a href="#" onclick="switchStoryBoard('consulting'); return false;"
                    id="story-menu-consulting">취업상담실</a></li>
                <li><a href="#" onclick="switchStoryBoard('study'); return false;" id="story-menu-study">스터디 모집</a></li>
                <li><a href="#" onclick="switchStoryBoard('ncs-review'); return false;" id="story-menu-ncs-review">NCS
                    후기</a></li>
                <li><a href="#" onclick="switchStoryBoard('interview'); return false;" id="story-menu-interview">면접
                    후기</a></li>
                <li><a href="#" onclick="switchStoryBoard('success'); return false;" id="story-menu-success">최종합격 수기</a>
                </li>
                <li><a href="#" onclick="switchStoryBoard('expert'); return false;" id="story-menu-expert">현직자/전문가</a>
                </li>
              </ul>
            </aside>

            <!-- 오른쪽 게시판 컨텐츠 -->
            <div class="board-content">
              <!-- 게시판 테이블 -->
              <div id="storyBoardTable"
                style="background:white; padding:2rem; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);">
                <table class="board-table" id="storyTable">
                  <thead>
                    <tr>
                      <th style="width: 60px;">번호</th>
                      <th>제목</th>
                      <th style="width: 120px;">작성자</th>
                      <th style="width: 120px;">작성일</th>
                      <th style="width: 80px;">좋아요</th>
                    </tr>
                  </thead>
                  <tbody id="storyTableBody">
                    <!-- Stories load here -->
                  </tbody>
                </table>
              </div>

              <!-- 게시판별 준비중 메시지 -->
              <div id="storyBoardMessage" class="board-message"
                style="display:none; background:white; padding:3rem; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);">
                <h3>준비 중입니다</h3>
                <p>곧 새로운 게시판이 오픈됩니다!</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 이야기 상세 보기 섹션 -->
      <div id="story-detail-section" style="display:none; width:100%;">
        <div class="container" style="max-width:1000px; margin:0 auto;">
          <button onclick="backToStoryList()"
            style="display:none; margin-bottom:1rem; background:none; border:none; font-size:1.1rem; cursor:pointer; color:#555;">&larr;
            목록으로 돌아가기</button>
          <div style="background:white; padding:3rem; border-radius:10px; box-shadow:0 2px 20px rgba(0,0,0,0.05);">
            <div style="border-bottom:1px solid #eee; padding-bottom:1rem; margin-bottom:2rem;">
              <h1 id="story-detail-title" style="margin:0 0 1rem 0; font-size:2rem; color:#222;"></h1>
              <div style="display:flex; justify-content:space-between; color:#666;">
                <div>
                  <span id="story-detail-author" style="font-weight:bold; margin-right:10px;"></span>
                  <span id="story-detail-date"></span>
                </div>
                <div id="story-detail-likes"></div>
              </div>
            </div>

            <div id="story-detail-content"
              style="font-size:1.1rem; line-height:1.8; color:#333; white-space: pre-wrap; margin-bottom:2rem;"></div>

            <div id="story-detail-image-area" style="text-align:center; margin-bottom:2rem; display:none;">
              <img id="story-detail-image" src="" style="max-width:100%; border-radius:8px;">
            </div>

            <div id="story-detail-attachment-area"
              style="background:#f9f9f9; padding:1rem; border-radius:8px; display:none;">
              <strong>💾 첨부파일:</strong> <a id="story-detail-attachment-link" href="#" target="_blank"
                style="color:#3498db; text-decoration:underline; margin-left:5px;"></a>
            </div>

            <!-- 하단 액션 버튼 영역 (목록으로 / 삭제) -->
            <div id="story-detail-actions" style="margin-top: 2rem; text-align: right;">
              <!-- 목록으로 돌아가기 (항상 표시) -->
              <button onclick="backToStoryList()" class="btn-delete"
                style="padding: 0.8rem 1.5rem; border-radius: 8px; font-weight: bold; background: #3498db; color: white; border: none; cursor: pointer; margin-right: 10px;">목록으로
                돌아가기</button>

              <!-- 삭제 버튼 (권한 있을 때만 표시) -->
              <button id="btn-delete-story" class="btn-delete"
                style="padding: 0.8rem 1.5rem; border-radius: 8px; font-weight: bold; background: #e74c3c; color: white; border: none; cursor: pointer; display: none;">삭제</button>
            </div>
          </div>
        </div>
      </div>

      <!-- 글쓰기 모달 -->
      <div id="storyModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
          <h2>✏️ 이야기 작성하기</h2>
          <form onsubmit="handlePostStory(event)">
            <div class="form-group">
              <label>제목</label>
              <input type="text" id="story_title" required placeholder="제목을 입력하세요">
            </div>
            <div class="form-group">
              <label>내용</label>
              <textarea id="story_content" rows="8" required placeholder="무슨 생각을 하고 계신가요?"
                style="resize:vertical;"></textarea>
            </div>
            <div class="form-group">
              <label>이미지 첨부 (본문 삽입)</label>
              <input type="file" id="story_image" accept="image/*">
            </div>
            <div class="form-group">
              <label>파일 첨부</label>
              <input type="file" id="story_attachment">
            </div>
            <div style="text-align: right; margin-top: 20px;">
              <button type="submit" class="btn-submit">올리기</button>
              <button type="button" class="btn-cancel" onclick="closeStoryModal()">취소</button>
            </div>
          </form>
        </div>
      </div>

      <!-- 메인 콘텐츠 영역 끝 -->
    </div>

    <!-- 오른쪽 사이드바 -->
    <aside class="research-sidebar">
      <div class="mainResearchWrapper wide">
        <div class="bannerSection research">
          <div class="bannerHeader">
            <div class="hbntitleImage">학술연구정보</div>
            <div class="btnSet"><a class="btn_subScribe" href="/order">상품신청</a></div>
          </div>
          <div class="bannerBody">
            <ul>
              <li class="bannerList index0">
                <a
                  href="/research/researches/486/recruitments/114/recruits/3557259?listType=ING&amp;sortType=AD&amp;pagekey=3557259&amp;adId=174703"><img
                    alt="에코프로비엠 R&amp;D 부문 산학장학생 모집"
                    src="//asset.hibrain.io/banners/logos_thumbs/1766552595110_x2.png?v=17071120251224140315"
                    srcset="//asset.hibrain.io/banners/logos_thumbs/1766552595110_x2.png?v=17071120251224140315 2x, //asset.hibrain.io/banners/logos_thumbs/1766552595110_x3.png?v=17071120251224140315 3x" /></a>
              </li>

              <li class="bannerList index0">
                <a
                  href="/research/researches/486/recruitments/115/recruits/3554044?listType=ING&amp;sortType=AD&amp;pagekey=3554044&amp;adId=173456"><img
                    alt="아모레퍼시픽 2026 AI 이노베이션 챌린지 공모전"
                    src="//asset.hibrain.io/banners/logos_thumbs/1764813620775_x2.png?v=17071120251204110020"
                    srcset="//asset.hibrain.io/banners/logos_thumbs/1764813620775_x2.png?v=17071120251204110020 2x, //asset.hibrain.io/banners/logos_thumbs/1764813620775_x3.png?v=17071120251204110020 3x" /></a>
              </li>

              <li class="bannerList index0">
                <a
                  href="/research/researches/33/recruitments/112/recruits/3556696?listType=ING&amp;sortType=AD&amp;pagekey=3556696&amp;adId=174445"><img
                    alt="KAIST 생명화학공학과 2026 Young Global Investigator Symposium 개최 및 발표자 모집"
                    src="//asset.hibrain.io/banners/logos_thumbs/1766125244808_x2.png?v=17071120251219152044"
                    srcset="//asset.hibrain.io/banners/logos_thumbs/1766125244808_x2.png?v=17071120251219152044 2x, //asset.hibrain.io/banners/logos_thumbs/1766125244808_x3.png?v=17071120251219152044 3x" /></a>
              </li>
              <li class="bannerList index1">
                <a
                  href="/research/researches/34/recruitments/108/recruits/3554471?listType=ING&amp;sortType=AD&amp;pagekey=3554471&amp;adId=173607"><img
                    alt="비스타그래픽스 저널커버&amp;피규어 2D&amp;3D 그래픽제작"
                    src="//asset.hibrain.io/banners/logos_thumbs/1764915686341_x2.png?v=17071120251205152126"
                    srcset="//asset.hibrain.io/banners/logos_thumbs/1764915686341_x2.png?v=17071120251205152126 2x, //asset.hibrain.io/banners/logos_thumbs/1764915686341_x3.png?v=17071120251205152126 3x" /></a>
              </li>

              <div class="hbn-row-image small-bottom">
                <a href="/order">
                  <img alt="하이브레인넷" onerror="this.style.display='none';"
                    src="https://asset.hibrain.io/images/dist/button/mainHibrainnetBanner-240731_x2.png?v=1.50.5"
                    srcset="https://asset.hibrain.io/images/dist/button/mainHibrainnetBanner-240731.png?v=1.50.5 1x, https://asset.hibrain.io/images/dist/button/mainHibrainnetBanner-240731_x2.png?v=1.50.5 2x, https://asset.hibrain.io/images/dist/button/mainHibrainnetBanner-240731_x3.png?v=1.50.5 3x" />
                </a>
              </div>
              <div class="hbn-row-image small-bottom">
                <a href="https://www.higrad.net/" target="_blank">
                  <img alt="하이그래드넷" onerror="this.style.display='none';"
                    src="https://asset.hibrain.io/images/dist/button/mainHigradnetBanner-241106_x2.png?v=1.50.5"
                    srcset="https://asset.hibrain.io/images/dist/button/mainHigradnetBanner-241106.png?v=1.50.5 1x, https://asset.hibrain.io/images/dist/button/mainHigradnetBanner-241106_x2.png?v=1.50.5 2x, https://asset.hibrain.io/images/dist/button/mainHigradnetBanner-241106_x3.png?v=1.50.5 3x" />
                </a>
              </div>
              <div class="hbn-row-image">
                <a href="https://global.hibrain.net/" target="_blank">
                  <img alt="글로벌 하이브레인넷" onerror="this.style.display='none';"
                    src="https://asset.hibrain.io/images/dist/button/mainGlobalBanner-240731_x2.png?v=1.50.5"
                    srcset="https://asset.hibrain.io/images/dist/button/mainGlobalBanner-240731.png?v=1.50.5 1x, https://asset.hibrain.io/images/dist/button/mainGlobalBanner-240731_x2.png?v=1.50.5 2x, https://asset.hibrain.io/images/dist/button/mainGlobalBanner-240731_x3.png?v=1.50.5 3x" />
                </a>
              </div>
            </ul>
          </div>
        </div>
      </div>
    </aside>

    <!-- 레이아웃 래퍼 끝 -->
  </div>

  <footer class="site-footer">
    <div class="container">
      <div class="brand">공공브레인넷</div>
      <div class="footer-line">대표 : | 사업자등록번호 : 123-45-67890</div>
      <div class="footer-line">(34430) 대전광역시 대덕구 한남로70 (오정동133) 경상대학 315호실</div>
      <div class="footer-line">통신판매업 신고번호 : 제 2025-대전의창-0000호 | 직업정보제공사업 : 대전 제 2025-0</div>
      <div class="footer-line">청소년보호책임자 : | 공공기관뉴스 기사배열 책임자 : </div>
      <div class="footer-line muted">© 2025 - 현재 puconet.com 공공브레인넷. All rights reserved. <a href="#"
          onclick="enableAdminMode(); return false;"
          style="color:#eee; text-decoration:none; margin-left:10px; font-size:0.8rem;">[Admin Setup]</a></div>
    </div>
  </footer>
  <section class="section" id="login" style="padding:2rem 0;"></section>
  <section class="section" id="signup" style="padding:2rem 0;"></section>
  <section class="section" id="service-intro" style="padding:2rem 0;"></section>
  <section class="section" id="service-apply" style="padding:2rem 0;"></section>
  <section class="section" id="support" style="padding:2rem 0;"></section>

  <!-- 로그인 모달 -->
  <div id="loginModal" class="modal">
    <div class="modal-content" style="max-width: 400px;">
      <span class="close" onclick="closeLoginModal()">&times;</span>
      <h2>로그인</h2>
      <form onsubmit="handleLogin(event)">
        <div class="form-group">
          <label>이메일</label>
          <input type="email" id="login_email" required placeholder="이메일을 입력하세요">
        </div>
        <div class="form-group">
          <label>비밀번호</label>
          <input type="password" id="login_password" required placeholder="비밀번호를 입력하세요">
        </div>
        <div style="text-align: right; margin-top: 20px;">
          <button type="submit" class="btn-submit">로그인</button>
          <button type="button" class="btn-cancel" onclick="closeLoginModal()">취소</button>
        </div>
        <div style="text-align: center; margin-top: 1rem; border-top: 1px solid #eee; padding-top: 1rem;">
          <button type="button" onclick="handleGoogleLogin()"
            style="background: #fff; color: #444; border: 1px solid #ddd; padding: 0.75rem; border-radius: 5px; cursor: pointer; display: flex; align-items: center; justify-content: center; width: 100%; font-weight: bold; gap: 10px;">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
              style="width: 18px; height: 18px;">
            Google로 시작하기
          </button>
        </div>
      </form>
    </div>
  </div>


  <script>
    // 부드러운 스크롤 효과
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // 스크롤 시 헤더 효과
    window.addEventListener('scroll', function () {
      const header = document.querySelector('header');
      if (window.scrollY > 100) {
        header.style.background = 'rgba(255, 255, 255, 0.95)';
        header.style.backdropFilter = 'blur(10px)';
      } else {
        header.style.background = '#fff';
        header.style.backdropFilter = 'none';
      }
    });
  </script>
  <script>
    (function () {
      function openPopup(url) {
        // 로그인 체크 추가
        const user = window.auth?.currentUser;
        if (!user) {
          alert('채용정보를 보려면 로그인이 필요합니다. 회원가입 후 이용해주세요.');
          if (window.openLoginModal) {
            window.openLoginModal();
          }
          return;
        }

        if (!url) {
          alert('이 배너에 연결할 채용 웹사이트 주소(URL)를 data-url 속성에 넣어주세요.');
          return;
        }
        try {
          window.open(url, 'jobpopup', 'noopener,noreferrer,width=1200,height=800');
        } catch (e) {
          window.open(url, '_blank', 'noopener,noreferrer');
        }
      }
      document.addEventListener('click', function (e) {
        var el = e.target;
        // climb up to nearest .job-card anchor
        while (el && el !== document) {
          if (el.classList && el.classList.contains('job-card')) {
            e.preventDefault();
            openPopup(el.getAttribute('data-url'));
            return;
          }
          el = el.parentNode;
        }
      }, true);
    })();
  </script>
  <script>

    /* v22: hamburger toggle for small screens */
    (function () {
      const nav = document.querySelector('header nav');
      const btn = document.querySelector('.menu-toggle');
      if (btn && nav) {
        btn.addEventListener('click', function () {
          nav.classList.toggle('open');
          btn.setAttribute('aria-label', nav.classList.contains('open') ? '메뉴 닫기' : '메뉴 열기');
        });
      }
    })();

    /* NOTE on m-dot domains:
       'm.example.com'은 DNS/서버(또는 CDN) 레벨에서 별도 호스트를 구성하고,
       서버에서 User-Agent/Viewport 감지 후 리다이렉트(또는 Vary 헤더 기반 캐시 분리)로 제공하는 것이 일반적입니다.
       HTML만으로 호스트를 바꾸진 못합니다. 마지막 수단으로 JS 리다이렉트를 쓸 수 있으나 SEO/UX에 권장되지 않습니다.
       예시(비권장):
       if (screen.width < 768) location.replace(location.href.replace('//www.', '//m.'));
    */

  </script>


  <!-- 내 정보 관리 모달 -->
  <div id="myInfoModal" class="modal signup-modal" style="display:none;">
    <div class="modal-content">
      <div class="signup-header">
        <h2>내 정보 관리</h2>
        <button type="button" class="btn-close-modal" onclick="closeMyInfoModal()">×</button>
      </div>
      <div class="signup-body">
        <form onsubmit="handleUpdateInfo(event)">
          <div class="row_group mbr_info">
            <h4>회원님의 정보를 최신으로 유지해주세요.</h4>

            <!-- 이메일 (읽기 전용) -->
            <div class="row mbr_email">
              <div class="col_1">
                <label>이메일</label>
              </div>
              <div class="col_2">
                <input type="email" id="info_email" readonly disabled style="background:#f9f9f9; color:#666;" />
              </div>
            </div>

            <!-- 이름 (실명) -->
            <div class="row mbr_name">
              <div class="col_1">
                <label for="info_name">이름(실명)</label>
              </div>
              <div class="col_2">
                <input type="text" id="info_name" placeholder="실명을 입력해주세요" maxlength="12" />
              </div>
            </div>

            <!-- 닉네임 (신규) -->
            <div class="row mbr_nickname">
              <div class="col_1">
                <label for="info_nickname">닉네임</label>
              </div>
              <div class="col_2">
                <input type="text" id="info_nickname" placeholder="게시판 활동명 (필수)" maxlength="16" required />
                <div class="notice_msg" style="display:block; color:#666;">* 취업 이야기 게시판 작성자로 표시됩니다.</div>
              </div>
            </div>

            <!-- 휴대폰 -->
            <div class="row mbr_phone">
              <div class="col_1">
                <label for="info_phone">휴대폰번호</label>
              </div>
              <div class="col_2">
                <input type="tel" id="info_phone" placeholder="010-0000-0000" maxlength="13" />
              </div>
            </div>

            <!-- 비밀번호 변경 (추후 구현) -->
            <div class="row" style="margin-top:10px;">
              <div class="col_1">비밀번호</div>
              <div class="col_2">
                <button type="button" class="mbrBtnAuth" onclick="alert('비밀번호 변경 기능은 준비 중입니다.');">비밀번호 변경</button>
              </div>
            </div>

          </div>

          <div class="regist_complete">
            <button type="submit" class="mbrBtnRegist">정보 수정 완료</button>
          </div>

        </form>
      </div>
    </div>
  </div>

  <!-- 회원가입 모달 (JobKorea 벤치마킹) -->
  <div id="signupModal" class="modal signup-modal" style="display:none;">
    <div class="modal-content">
      <div class="signup-header">
        <h2>개인회원 가입</h2>
        <button type="button" class="btn-close-modal" onclick="closeSignupModal()">×</button>
      </div>
      <div class="signup-body">
        <form onsubmit="handleSignup(event)">
          <!-- 소셜 로그인 (생략 또는 기존 유지) -->

          <div class="row_group mbr_info">
            <h4>회원가입하고 다양한 혜택을 누리세요!</h4>

            <!-- 아이디 -->
            <div class="row mbr_id">
              <div class="col_1">
                <label for="signup_id">아이디</label>
              </div>
              <div class="col_2">
                <input type="text" id="signup_id" placeholder="잡코리아, 알바몬 통합 ID" maxlength="16" />
                <div class="notice_msg" id="notice_msg_id"></div>
              </div>
            </div>

            <!-- 비밀번호 -->
            <div class="row mbr_passwd">
              <div class="col_1">
                <label for="signup_password">비밀번호</label>
              </div>
              <div class="col_2">
                <input type="password" id="signup_password" placeholder="8~16자의 영문, 숫자, 특수기호" maxlength="16" />
                <button type="button" class="btnHelp" title="도움말">?</button>
                <div class="notice_msg" id="notice_msg_pwd"></div>
              </div>
              <div class="col_3">
                <button type="button" class="mbrBtnAuth"
                  onclick="togglePasswordVisibility('signup_password')">표시</button>
              </div>
            </div>

            <!-- 이름 -->
            <div class="row mbr_name">
              <div class="col_1">
                <label for="signup_name">이름(실명)</label>
              </div>
              <div class="col_2">
                <input type="text" id="signup_name" placeholder="실명을 입력해주세요" maxlength="12" />
                <div class="notice_msg" id="notice_msg_name"></div>
              </div>
            </div>

            <!-- 이메일 -->
            <div class="row mbr_email">
              <div class="col_1">
                <label for="signup_email">이메일</label>
              </div>
              <div class="col_2">
                <input type="email" id="signup_email" placeholder="example@email.com" />
                <div class="notice_msg" id="notice_msg_mail"></div>
              </div>
            </div>

            <!-- 휴대폰 -->
            <div class="row mbr_phone">
              <div class="col_1">
                <label for="signup_phone">휴대폰번호</label>
              </div>
              <div class="col_2">
                <input type="tel" id="signup_phone" placeholder="010-0000-0000" maxlength="13" />
                <button type="button" class="buttonSendCertification" onclick="alert('인증번호가 전송되었습니다 (모의).')">인증번호
                  전송</button>
                <div class="notice_msg" id="notice_msg_phone"></div>
              </div>
            </div>

            <!-- 인증번호 -->
            <div class="row authentication_check">
              <div class="col_1">
                <label for="signup_cert">인증번호 입력</label>
              </div>
              <div class="col_2">
                <input type="text" id="signup_cert" placeholder="인증번호 6자리" maxlength="6" />
                <button type="button" class="btnConfirm" onclick="alert('인증되었습니다 (모의).')">확인</button>
                <button type="button" class="btnSend" onclick="alert('재전송되었습니다 (모의).')">재전송</button>
                <div class="notice_msg" id="notice_msg_certify"></div>
              </div>
            </div>
          </div>

          <!-- 약관 동의 -->
          <div class="row_group policy">
            <div class="row policy_check_all">
              <input type="checkbox" id="chk_all" onchange="toggleAllTerms(this)" />
              <label for="chk_all">필수 동의 항목 및 개인정보 수집 및 이용 동의(선택), 광고성 정보 수신(선택)에 모두 동의합니다.</label>
            </div>

            <div class="row policy_check_service required">
              <input type="checkbox" id="chk_age" class="term-chk required-term" />
              <label for="chk_age"><strong>[필수]</strong> 만 15세 이상입니다.</label>
            </div>

            <div class="row policy_check_service required">
              <input type="checkbox" id="chk_service" class="term-chk required-term" />
              <label for="chk_service"><strong>[필수]</strong> 이용약관 동의</label>
            </div>

            <div class="policyTplBox">
              <ol>
                <li><strong>제 1 조 (목적)</strong><br>본 약관은 회사와 회원간의 이용 조건 및 절차를 규정합니다.</li>
                <li><strong>제 2 조 (용어의 정의)</strong><br>회원, 아이디, 비밀번호 등에 대한 정의를 따릅니다.</li>
                <li><strong>제 3 조 (약관의 게시)</strong><br>회사는 약관을 초기 화면에 게시합니다.</li>
                <!-- 내용 생략 -->
              </ol>
            </div>

            <div class="row policy_check_privacyOptional">
              <input type="checkbox" id="chk_privacy" class="term-chk optional-term" />
              <label for="chk_privacy">[선택] 개인정보 수집 및 이용 동의</label>
              <a href="#" class="mbrBtnPolicy">내용보기</a>
            </div>

            <div class="row check_sms">
              <input type="checkbox" id="chk_marketing" class="term-chk optional-term" />
              <label for="chk_marketing">[선택] 광고성 정보 수신 동의</label>
              <a href="#" class="mbrBtnPolicy">내용보기</a>
            </div>
          </div>

          <div class="regist_complete">
            <button type="submit" class="mbrBtnRegist">가입하기</button>
          </div>

        </form>
      </div>
    </div>
  </div>

  <!--
  ============================================
  Firebase Firestore 보안 규칙 설정 가이드
  ============================================
  
  삭제 기능이 작동하지 않는 경우, Firebase Console에서 Firestore 보안 규칙을 다음과 같이 설정해주세요:
  
  1. Firebase Console (https://console.firebase.google.com/) 접속
  2. 프로젝트 선택 (recruit-board)
  3. Firestore Database 메뉴 선택
  4. 상단의 "규칙" 탭 클릭
  5. 아래 규칙을 복사하여 붙여넣기:

  rules_version = '2';
  service cloud.firestore {
    match /databases/{database}/documents {
      
      // users 컬렉션: 인증된 사용자만 읽기 가능, 자신의 문서만 쓰기 가능
      match /users/{userId} {
        allow read: if request.auth != null;
        allow write: if request.auth != null && request.auth.uid == userId;
      }
      
      // jobs 컬렉션: 모든 사용자 읽기 가능, 관리자만 쓰기/삭제 가능
      match /jobs/{jobId} {
        allow read: if true;
        allow create, update, delete: if request.auth != null && 
          exists(/databases/$(database)/documents/users/$(request.auth.uid)) &&
          get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
      }
      
      // stories 컬렉션: 모든 사용자 읽기 가능, 인증된 사용자만 쓰기 가능
      match /stories/{storyId} {
        allow read: if true;
        allow create: if request.auth != null;
        allow update, delete: if request.auth != null && 
          (resource.data.authorId == request.auth.uid || 
           (exists(/databases/$(database)/documents/users/$(request.auth.uid)) &&
            get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin'));
      }
    }
  }

  6. "게시" 버튼 클릭하여 규칙 적용

  주의: 위 규칙은 관리자(role='admin')만 채용정보를 삭제할 수 있도록 설정되어 있습니다.
  관리자 계정 설정은 Firebase Console > Firestore Database > users 컬렉션에서
  해당 사용자의 role 필드를 'admin'으로 설정해주세요.
  ============================================
  -->

  <script type="module">
    // Firebase 9 버전 SDK 가져오기
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, orderBy, query, Timestamp, setDoc, getDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    import { getStorage, ref, uploadBytes, getDownloadURL } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile, GoogleAuthProvider, signInWithPopup } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

    // Firebase 설정
    const firebaseConfig = {
      apiKey: "AIzaSyAxVeMDkNyI-3vW5BvDsq8J7POUPwraoy4",
      authDomain: "recruit-board.firebaseapp.com",
      projectId: "recruit-board",
      storageBucket: "recruit-board.firebasestorage.app",
      messagingSenderId: "614136048192",
      appId: "1:614136048192:web:5153e389c9f26ddbb24da5"
    };

    // Firebase 초기화
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const storage = getStorage(app);
    const auth = getAuth(app);

    // 전역으로 함수 노출
    window.db = db;
    window.collection = collection;
    window.addDoc = addDoc;
    window.getDocs = getDocs;
    window.doc = doc;
    window.updateDoc = updateDoc;
    window.deleteDoc = deleteDoc;
    window.orderBy = orderBy;
    window.query = query;
    window.Timestamp = Timestamp;
    window.storage = storage;
    window.ref = ref;
    window.Timestamp = Timestamp;
    window.storage = storage;
    window.ref = ref;
    window.uploadBytes = uploadBytes;
    window.getDownloadURL = getDownloadURL;
    window.setDoc = setDoc;
    window.getDoc = getDoc;
    window.googleProvider = new GoogleAuthProvider();
    window.getDownloadURL = getDownloadURL;
    window.getDownloadURL = getDownloadURL;
    window.jobsData = {}; // 전역 데이터 저장소

    // --- Global Current Category (Default) ---
    window.currentJobCategory = 'market-public'; // 채용정보 기본: 공기업(시장형)
    window.currentStoryCategory = 'free';  // 취업이야기 기본: 자유게시판


    // --- Auth Logic Setup ---
    window.auth = auth;
    window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
    window.signInWithEmailAndPassword = signInWithEmailAndPassword;
    window.signOut = signOut;
    window.updateProfile = updateProfile;
    window.signInWithPopup = signInWithPopup;

    // 사용자 정보 Firestore 저장/업데이트 함수
    async function saveUserToFirestore(user) {
      if (!user) return;
      const userRef = doc(db, 'users', user.uid);
      try {
        const userSnap = await getDoc(userRef);
        if (!userSnap.exists()) {
          // 신규 유저
          await setDoc(userRef, {
            email: user.email,
            name: user.displayName || 'No Name',
            photoURL: user.photoURL || '',
            role: 'user', // 기본값
            createdAt: Timestamp.now(),
            lastLoginAt: Timestamp.now()
          });
        } else {
          // 기존 유저: 마지막 로그인 시간만 업데이트
          await updateDoc(userRef, {
            lastLoginAt: Timestamp.now(),
            name: user.displayName || userSnap.data().name || 'No Name', // 이름 업데이트 동기화
            photoURL: user.photoURL || userSnap.data().photoURL || ''
          });
        }
      } catch (e) {
        console.error("Error saving user data:", e);
      }
    }

    // 인증 상태 감지 및 UI 업데이트
    onAuthStateChanged(auth, async (user) => {
      const loginBtn = document.getElementById('nav-login');
      const signupBtn = document.getElementById('nav-signup');
      const logoutBtn = document.getElementById('nav-logout');
      const myMenuLink = document.querySelector('.nav-links a[href="#"]:last-child'); // 마이메뉴

      if (user) {
        // Firestore에 사용자 정보 저장/업데이트
        await saveUserToFirestore(user);

        // 로그인 상태
        if (loginBtn) {
          // 이름이 없으면 이메일 앞부분 사용
          const displayName = user.displayName || user.email.split('@')[0];
          loginBtn.textContent = displayName + '님';
          loginBtn.onclick = null;
          loginBtn.style.cursor = 'default';

          // "나의 정보관리" 메뉴 추가
          if (!document.getElementById('nav-my-info')) {
            // 로그인 버튼 바로 옆(뒤)에 추가하거나, "로그아웃" 앞에 추가
            // 여기서는 로그아웃 버튼 앞에 추가
            const ul = document.querySelector('.global-nav-links');
            const li = document.createElement('li');
            li.innerHTML = '<a href="#" onclick="openMyInfoModal(); return false;" id="nav-my-info" style="color: #2ecc71; font-weight:bold;">나의 정보관리</a>';
            // nav-login (index 0) 바로 뒤에 넣기
            // 현재 구조: Login(0), Signup(1-hidden), Logout(2), Service(3)...
            // insertBefore Logout
            const logoutLi = logoutBtn.parentElement;
            ul.insertBefore(li, logoutLi);
          }
        }
        if (signupBtn) signupBtn.style.display = 'none';
        if (logoutBtn) logoutBtn.style.display = 'inline-block';

        // 관리자 확인
        try {
          const userSnap = await getDoc(doc(db, 'users', user.uid));
          if (userSnap.exists()) {
            const userData = userSnap.data();
            if (userData.role === 'admin') {
              // 관리자 메뉴 노출 (네비게이션에 추가)
              if (!document.getElementById('nav-admin-users')) {
                const ul = document.querySelector('.global-nav-links');
                const li = document.createElement('li');
                li.innerHTML = '<a href="#" onclick="showUserManagement(); return false;" id="nav-admin-users" style="color: #e74c3c; font-weight:bold;">회원관리</a>';
                ul.insertBefore(li, ul.firstChild); // 맨 앞에 추가
              }
            }
          }
        } catch (e) { console.error("Admin check failed", e); }

        // 전역 변수에 역할 저장
        try {
          const snap = await getDoc(doc(db, 'users', user.uid));
          if (snap.exists()) {
            window.currentUserRole = snap.data().role;
          }
        } catch (e) { }

        // 권한에 따른 UI 업데이트
        if (typeof loadJobs === 'function') loadJobs();

      } else {
        // 로그아웃 상태
        if (loginBtn) {
          loginBtn.textContent = '로그인';
          loginBtn.onclick = function () { openLoginModal(); return false; };
          loginBtn.style.cursor = 'pointer';
        }
        if (signupBtn) signupBtn.style.display = 'inline-block';
        if (logoutBtn) logoutBtn.style.display = 'none';

        // 관리자 메뉴 & 내 정보 메뉴 제거
        const adminBtn = document.getElementById('nav-admin-users');
        if (adminBtn) adminBtn.parentElement.remove();

        const myInfoBtn = document.getElementById('nav-my-info');
        if (myInfoBtn) myInfoBtn.parentElement.remove();
      }
    });

    // 전역 함수로 등록 (module 밖에서 호출 가능하도록)
    window.openLoginModal = function () {
      document.getElementById('loginModal').style.display = 'block';
    }
    window.closeLoginModal = function () {
      document.getElementById('loginModal').style.display = 'none';
    }
    window.openSignupModal = function () {
      document.getElementById('signupModal').style.display = 'block';
    }
    window.closeSignupModal = function () {
      document.getElementById('signupModal').style.display = 'none';
    }

    // 내 정보 관리 모달 함수
    window.openMyInfoModal = async function () {
      const user = window.auth.currentUser;
      if (!user) { alert('로그인이 필요합니다.'); return; }

      document.getElementById('myInfoModal').style.display = 'block';

      // 데이터 로드
      document.getElementById('info_email').value = user.email;
      document.getElementById('info_name').value = user.displayName || '';

      try {
        const userDoc = await getDoc(doc(db, 'users', user.uid));
        if (userDoc.exists()) {
          const data = userDoc.data();
          document.getElementById('info_nickname').value = data.nickname || '';
          document.getElementById('info_phone').value = data.phone || '';
        }
      } catch (e) { console.error(e); }
    }
    window.closeMyInfoModal = function () {
      document.getElementById('myInfoModal').style.display = 'none';
      document.querySelector('#myInfoModal form').reset();
    }

    window.handleUpdateInfo = async function (e) {
      e.preventDefault();
      const user = window.auth.currentUser;
      if (!user) return;

      const newName = document.getElementById('info_name').value;
      const newNickname = document.getElementById('info_nickname').value;
      const newPhone = document.getElementById('info_phone').value;

      if (!newNickname) {
        alert('닉네임은 필수입니다.');
        return;
      }

      try {
        // 1. Auth Profile 업데이트 (이름)
        if (newName !== user.displayName) {
          await updateProfile(user, { displayName: newName });
        }

        // 2. Firestore 업데이트 (닉네임, 전화번호, 이름 등)
        await updateDoc(doc(db, 'users', user.uid), {
          name: newName,
          nickname: newNickname,
          phone: newPhone
        });

        alert('✅ 회원 정보가 수정되었습니다.');
        closeMyInfoModal();

        // 헤더 이름 업데이트 (새로고침 없이 반영)
        const loginBtn = document.getElementById('nav-login');
        if (loginBtn) loginBtn.textContent = newName + '님';

      } catch (err) {
        console.error(err);
        alert('정보 수정 실패: ' + err.message);
      }
    }

    window.handleLogin = async function (e) {
      e.preventDefault();
      const email = document.getElementById('login_email').value;
      const pw = document.getElementById('login_password').value;
      try {
        await signInWithEmailAndPassword(auth, email, pw);
        alert('✅ 로그인되었습니다.');
        closeLoginModal();
      } catch (err) {
        let msg = '로그인 실패: ' + err.message;
        if (err.code === 'auth/invalid-credential') msg = '이메일 또는 비밀번호가 올바르지 않습니다.';
        alert(msg);
      }
    }

    window.handleGoogleLogin = async function () {
      try {
        await signInWithPopup(auth, window.googleProvider);
        alert('✅ 구글 로그인되었습니다.');
        closeLoginModal();
        closeSignupModal();
      } catch (err) {
        console.error(err);
        alert('구글 로그인 실패: ' + err.message);
      }
    }

    window.togglePasswordVisibility = function (id) {
      const input = document.getElementById(id);
      if (input.type === "password") {
        input.type = "text";
      } else {
        input.type = "password";
      }
    }

    window.toggleAllTerms = function (source) {
      const checkboxes = document.querySelectorAll('.term-chk');
      for (let chk of checkboxes) {
        chk.checked = source.checked;
      }
    }

    window.handleSignup = async function (e) {
      e.preventDefault();

      const email = document.getElementById('signup_email').value;
      const pw = document.getElementById('signup_password').value;
      const name = document.getElementById('signup_name').value;

      // 약관 동의 체크
      const chkAge = document.getElementById('chk_age');
      const chkService = document.getElementById('chk_service');

      if (chkAge && !chkAge.checked) {
        alert('만 15세 이상임에 동의해주세요 (필수).');
        return;
      }
      if (chkService && !chkService.checked) {
        alert('이용약관에 동의해주세요 (필수).');
        return;
      }

      if (pw.length < 6) {
        alert('비밀번호는 6자리 이상이어야 합니다.');
        return;
      }

      try {
        const userCredential = await createUserWithEmailAndPassword(auth, email, pw);
        // 프로필 이름 설정
        await updateProfile(userCredential.user, { displayName: name });
        alert('✅ 가입을 환영합니다! (' + name + '님)\n자동으로 로그인되었습니다.');
        closeSignupModal();
      } catch (err) {
        let msg = '가입 실패: ' + err.message;
        if (err.code === 'auth/email-already-in-use') msg = '이미 사용 중인 이메일입니다.';
        alert(msg);
      }
    }

    window.handleLogout = async function () {
      if (!confirm('로그아웃 하시겠습니까?')) return;
      try {
        await signOut(auth);
        alert('로그아웃되었습니다.');
        // 메인으로 이동하거나 새로고침
        window.location.reload();
      } catch (err) {
        alert('로그아웃 실패: ' + err.message);
      }
    }
    // ----------------------

    // [DEBUG] 관리자 권한 부여 함수 (푸터의 숨겨진 링크 클릭 시 실행)
    window.enableAdminMode = async function () {
      const user = window.auth.currentUser;
      if (!user) {
        alert('먼저 로그인해주세요.');
        return;
      }
      if (!confirm(`${user.email} 계정을 관리자로 설정하시겠습니까?`)) return;

      try {
        const userRef = window.doc(window.db, 'users', user.uid);
        await window.updateDoc(userRef, { role: 'admin' });
        alert('✅ 관리자 설정 완료! 페이지를 새로고침합니다.');
        window.location.reload();
      } catch (e) {
        console.error(e);
        alert('설정 실패: ' + e.message);
      }
    }

    // === 취업 이야기 관련 로직 ===
    window.showStoryBoard = async function () {
      // 1. 모든 다른 섹션 숨기기
      document.getElementById('features').style.display = 'none';
      document.getElementById('jobs').style.display = 'none';
      document.getElementById('general-jobs').style.display = 'none';
      document.getElementById('edu-courses').style.display = 'none';
      document.getElementById('detail-section').style.display = 'none';
      const boardSection = document.getElementById('board-section');
      if (boardSection) boardSection.style.display = 'none';
      const userSection = document.getElementById('user-manage-section');
      if (userSection) userSection.style.display = 'none';

      // 2. 사이드바 숨기기 (Wrapper에 클래스 추가로 제어)
      const wrapper = document.querySelector('.content-with-sidebar-wrapper');
      if (wrapper) wrapper.classList.add('full-width-wrapper');

      // 3. 스토리 섹션 보이기
      const storySection = document.getElementById('story-board-section');
      if (storySection) {
        storySection.style.display = 'block';
        // 기본적으로 자유게시판으로 시작
        switchStoryBoard('free');
      }
      window.scrollTo(0, 0);
    }

    // 원래 화면으로 복귀 시 사이드바 복구
    // 원래 화면으로 복귀 시 사이드바 복구 (전역 노출)
    window.restoreSidebar = function () {
      const wrapper = document.querySelector('.content-with-sidebar-wrapper');
      if (wrapper) wrapper.classList.remove('full-width-wrapper');

      const storySection = document.getElementById('story-board-section');
      if (storySection) storySection.style.display = 'none';

      const storyDetailSection = document.getElementById('story-detail-section');
      if (storyDetailSection) storyDetailSection.style.display = 'none';
    }

    window.openWriteStoryModal = function () {
      if (!window.auth.currentUser) {
        alert('로그인이 필요한 서비스입니다.');
        window.openLoginModal();
        return;
      }
      document.getElementById('storyModal').style.display = 'block';
    }
    window.closeStoryModal = function () {
      document.getElementById('storyModal').style.display = 'none';
      document.querySelector('#storyModal form').reset();
    }

    // 파일 업로드 유틸리티 함수
    window.uploadFile = async function (file, folderName) {
      if (!file) return null;
      try {
        const ext = file.name.split('.').pop();
        const filename = `${Date.now()}_${Math.random().toString(36).substr(2, 9)}.${ext}`;
        const storageRef = window.ref(window.storage, `${folderName}/${filename}`);
        const snapshot = await window.uploadBytes(storageRef, file);
        return await window.getDownloadURL(snapshot.ref);
      } catch (e) {
        console.error("Upload failed:", e);
        throw e;
      }
    };

    window.handlePostStory = async function (e) {
      e.preventDefault();
      const user = window.auth.currentUser;
      if (!user) { alert('로그인이 필요합니다.'); return; }

      const title = document.getElementById('story_title').value;
      const content = document.getElementById('story_content').value;
      const imageFile = document.getElementById('story_image').files[0];
      const attachmentFile = document.getElementById('story_attachment').files[0];

      try {
        let imageUrl = '';
        let attachmentUrl = '';
        let attachmentName = '';

        if (imageFile) imageUrl = await window.uploadFile(imageFile, 'story_images');
        if (attachmentFile) {
          attachmentUrl = await window.uploadFile(attachmentFile, 'story_attachments');
          attachmentName = attachmentFile.name;
        }

        const docData = {
          title: title,
          content: content,
          imageUrl: imageUrl,
          attachmentUrl: attachmentUrl,
          attachmentName: attachmentName,
          authorUid: user.uid,
          authorName: '익명', // 기본값, 아래에서 덮어씌움
          category: window.currentStoryCategory, // 현재 카테고리 저장
          createdAt: window.Timestamp.now(),
          likes: 0
        };

        // 닉네임 조회
        try {
          const userDoc = await getDoc(doc(db, 'users', user.uid));
          if (userDoc.exists() && userDoc.data().nickname) {
            docData.authorName = userDoc.data().nickname;
          } else {
            docData.authorName = user.displayName || user.email.split('@')[0];
          }
        } catch (e) {
          docData.authorName = user.displayName || user.email.split('@')[0];
        }

        await window.addDoc(window.collection(window.db, 'stories'), docData);

        alert('✅ 이야기가 등록되었습니다.');
        closeStoryModal();
        loadStories();
      } catch (err) {
        console.error(err);
        alert('등록 실패: ' + err.message);
      }
    }

    window.loadStories = async function () {
      const tbody = document.getElementById('storyTableBody');
      if (!tbody) return;

      try {
        const q = query(collection(db, 'stories'), orderBy('createdAt', 'desc'));
        const querySnapshot = await getDocs(q);

        tbody.innerHTML = ''; // 클리어

        if (querySnapshot.empty) {
          tbody.innerHTML = '<tr><td colspan="5" style="text-align:center; padding:3rem; color:#888;">아직 이야기가 없습니다. 첫 번째 이야기를 들려주세요!</td></tr>';
          return;
        }

        let index = 0;
        // 클라이언트 사이드 필터링 및 인덱스 계산
        const filteredDocs = [];
        querySnapshot.forEach((docSnap) => {
          const d = docSnap.data();
          // 카테고리가 없으면 'free'로 간주 (기존 데이터 호환)
          const cat = d.category || 'free';
          if (cat === window.currentStoryCategory) {
            filteredDocs.push({ ...d, id: docSnap.id });
          }
        });

        if (filteredDocs.length === 0) {
          tbody.innerHTML = '<tr><td colspan="5" style="text-align:center; padding:3rem; color:#888;">아직 이야기가 없습니다. 첫 번째 이야기를 들려주세요!</td></tr>';
          return;
        }

        index = filteredDocs.length;

        filteredDocs.forEach((data) => {
          const docId = data.id;
          const date = data.createdAt ? new Date(data.createdAt.seconds * 1000).toLocaleDateString() : '-';

          window.storiesData = window.storiesData || {};
          window.storiesData[docId] = { ...data, dateString: date };

          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td style="text-align:center;">${index--}</td>
            <td>
                <a href="#" onclick="viewStoryDetail('${docId}'); return false;" style="text-decoration:none; color:#333; font-weight:bold;">${escapeHtml(data.title)}</a>
            </td>
            <td style="text-align:center;">${escapeHtml(data.authorName)}</td>
            <td style="text-align:center; color:#666;">${date}</td>
            <td style="text-align:center;">❤️ ${data.likes || 0}</td>
          `;
          tbody.appendChild(tr);
        });

      } catch (err) {
        console.error(err);
        tbody.innerHTML = '<tr><td colspan="5" style="text-align:center; color:red;">데이터 로딩 실패</td></tr>';
      }
    }

    // 이야기 삭제 함수
    window.deleteStory = async function (id) {
      if (!confirm('정말 삭제하시겠습니까?')) return;
      try {
        await deleteDoc(doc(db, 'stories', id));
        alert('✅ 삭제되었습니다.');
        // 상세화면 숨기고 목록 보이기
        document.getElementById('story-detail-section').style.display = 'none';
        document.getElementById('story-board-section').style.display = 'block';
        loadStories();
      } catch (e) {
        alert('삭제 실패: ' + e.message);
      }
    }

    // 게시판 전환 함수
    window.switchStoryBoard = function (boardType) {
      // 1. 현재 카테고리 업데이트
      window.currentStoryCategory = boardType;

      // 2. 사이드바 메뉴 활성화 상태 변경
      const menuItems = document.querySelectorAll('.board-sidebar a');
      menuItems.forEach(item => item.classList.remove('active'));
      const activeMenu = document.getElementById('story-menu-' + boardType);
      if (activeMenu) activeMenu.classList.add('active');

      // 3. 게시판 표시 (준비중 메시지 로직 제거하고 항상 로딩)
      const boardTable = document.getElementById('storyBoardTable');
      const boardMessage = document.getElementById('storyBoardMessage');

      if (boardTable) boardTable.style.display = 'block';
      if (boardMessage) boardMessage.style.display = 'none';

      // 4. 데이터 다시 로드 (변경된 카테고리 기준)
      loadStories();
    }

    window.viewStoryDetail = function (id) {
      const data = window.storiesData[id];
      if (!data) return;

      document.getElementById('story-board-section').style.display = 'none';
      document.getElementById('story-detail-section').style.display = 'block';
      window.scrollTo(0, 0);

      document.getElementById('story-detail-title').textContent = data.title;
      document.getElementById('story-detail-author').textContent = data.authorName;
      document.getElementById('story-detail-date').textContent = data.dateString;
      document.getElementById('story-detail-likes').textContent = `❤️ ${data.likes || 0}`;
      document.getElementById('story-detail-content').textContent = data.content;

      const imgArea = document.getElementById('story-detail-image-area');
      const img = document.getElementById('story-detail-image');
      if (data.imageUrl) {
        img.src = data.imageUrl;
        imgArea.style.display = 'block';
      } else {
        imgArea.style.display = 'none';
      }

      const attArea = document.getElementById('story-detail-attachment-area');
      const attLink = document.getElementById('story-detail-attachment-link');
      if (data.attachmentUrl) {
        attLink.href = data.attachmentUrl;
        attLink.textContent = data.attachmentName || '첨부파일 다운로드';
        attLink.setAttribute('download', data.attachmentName || 'file');
        attArea.style.display = 'block';
      } else {
        attArea.style.display = 'none';
      }

      // 4. 권한 체크 및 삭제 버튼 제어
      const actionsDiv = document.getElementById('story-detail-actions');
      const deleteBtn = document.getElementById('btn-delete-story');
      const currentUser = window.auth.currentUser;

      let canDelete = false;
      if (currentUser) {
        // 전역 role 확인 (admin)
        if (window.currentUserRole === 'admin') canDelete = true;
        // 본인 글 확인
        else if (data.authorUid && currentUser.uid === data.authorUid) canDelete = true;
      }


      if (actionsDiv && deleteBtn) {
        // 컨테이너는 항상 보임 (목록으로 버튼 때문)
        actionsDiv.style.display = 'block';

        if (canDelete) {
          deleteBtn.style.display = 'inline-block';
          deleteBtn.onclick = function () { deleteStory(id); };
        } else {
          deleteBtn.style.display = 'none';
        }
      }
    }

    window.backToStoryList = function () {
      document.getElementById('story-detail-section').style.display = 'none';
      document.getElementById('story-board-section').style.display = 'block';
    }

    // 회원 관리 관련 함수들
    window.showUserManagement = async function () {
      // 기존 섹션 숨기기
      document.getElementById('features').style.display = 'none';
      document.getElementById('jobs').style.display = 'none';
      document.getElementById('general-jobs').style.display = 'none';
      document.getElementById('edu-courses').style.display = 'none';
      document.getElementById('detail-section').style.display = 'none';

      const boardSection = document.getElementById('board-section');
      if (boardSection) boardSection.style.display = 'none';

      // 회원 관리 섹션 보이기
      const userSection = document.getElementById('user-manage-section');
      if (userSection) {
        userSection.style.display = 'block';
        await loadUsers();
      }
    }

    window.loadUsers = async function () {
      const tbody = document.getElementById('userTableBody');
      if (!tbody) return;

      tbody.innerHTML = '<tr><td colspan="6" style="text-align:center; padding:2rem;">로딩 중...</td></tr>';

      try {
        const q = query(collection(db, 'users'), orderBy('createdAt', 'desc'));
        const querySnapshot = await getDocs(q);

        tbody.innerHTML = '';

        if (querySnapshot.empty) {
          tbody.innerHTML = '<tr><td colspan="6" style="text-align:center; padding:2rem;">가입된 회원이 없습니다.</td></tr>';
          return;
        }

        querySnapshot.forEach((docSnap) => {
          const user = docSnap.data();
          const tr = document.createElement('tr');
          const created = user.createdAt ? new Date(user.createdAt.seconds * 1000).toLocaleDateString('ko-KR') : '-';
          const lastLogin = user.lastLoginAt ? new Date(user.lastLoginAt.seconds * 1000).toLocaleDateString('ko-KR') : '-';

          tr.innerHTML = `
                    <td>${escapeHtml(user.name)}</td>
                    <td>${escapeHtml(user.email)}</td>
                    <td><span class="badge" style="background:${user.role === 'admin' ? '#e74c3c' : '#95a5a6'}; color:white;">${user.role || 'user'}</span></td>
                    <td>${created}</td>
                    <td>${lastLogin}</td>
                    <td>
                        <button onclick="alert('준비 중입니다.')" class="btn-edit" style="font-size:0.8rem; padding:0.3rem 0.6rem;">관리</button>
                    </td>
                `;
          tbody.appendChild(tr);
        });
      } catch (e) {
        console.error("Load users Error:", e);
        tbody.innerHTML = '<tr><td colspan="6" style="text-align:center; color:red;">데이터 로딩 실패 (관리자 권한 확인 필요)</td></tr>';
      }
    }
    // ----------------------

    // 페이지 로드 시 데이터 불러오기
    // 페이지 로드 시 데이터 불러오기 - 제거됨 (하단 스크립트에서 호출)
    // loadJobs();
  </script>

  <script>
    // 로그인 체크 함수
    window.checkLoginAndExecute = function(callback, message) {
      const user = window.auth?.currentUser;
      if (!user) {
        alert(message || '로그인이 필요한 서비스입니다. 회원가입 후 이용해주세요.');
        window.openLoginModal();
        return false;
      }
      if (typeof callback === 'function') {
        callback();
      }
      return true;
    }

    // 메인 화면으로 돌아가는 함수
    window.goHome = function () {
      restoreSidebar(); // 사이드바 복구

      // 모든 메인 섹션 보이기
      document.getElementById('features').style.display = 'block';
      document.getElementById('jobs').style.display = 'block';
      document.getElementById('general-jobs').style.display = 'block';
      document.getElementById('edu-courses').style.display = 'block';

      // 상세 섹션 숨기기
      const detailSection = document.getElementById('detail-section');
      if (detailSection) detailSection.style.display = 'none';

      // 게시판 섹션 숨기기
      const boardSection = document.getElementById('board-section');
      if (boardSection) {
        boardSection.style.display = 'none';
      }

      const userSection = document.getElementById('user-manage-section');
      if (userSection) userSection.style.display = 'none';

      // 스크롤 상단으로
      window.scrollTo(0, 0);
    }

    // 화면 전환 함수
    // 화면 전환 함수 (채용정보 게시판) - Full Width 적용
    window.showBoard = function () {
      // 사이드바 숨기기 (취업 이야기와 동일하게)
      const wrapper = document.querySelector('.content-with-sidebar-wrapper');
      if (wrapper) wrapper.classList.add('full-width-wrapper');

      // 메인 섹션들 숨기기
      document.getElementById('features').style.display = 'none';
      document.getElementById('jobs').style.display = 'none';
      document.getElementById('general-jobs').style.display = 'none';
      document.getElementById('edu-courses').style.display = 'none';

      const storySection = document.getElementById('story-board-section');
      if (storySection) storySection.style.display = 'none';

      // 상세 섹션 숨기기
      const detailSection = document.getElementById('detail-section');
      if (detailSection) detailSection.style.display = 'none';

      const storyDetailSection = document.getElementById('story-detail-section');
      if (storyDetailSection) storyDetailSection.style.display = 'none';

      // 게시판 섹션 보이기
      const boardSection = document.getElementById('board-section');
      if (boardSection) {
        boardSection.style.display = 'block';
        // 기본적으로 공기업(시장형) 게시판으로 시작
        switchBoard('market-public');
      }

      const userSection = document.getElementById('user-manage-section');
      if (userSection) userSection.style.display = 'none';

      // 스크롤 상단으로
      window.scrollTo(0, 0);
    }

    // 채용정보 게시판 전환 함수
    window.switchBoard = function (boardType) {
      // 1. 현재 카테고리 업데이트
      window.currentJobCategory = boardType;
      currentPage = 1; // 페이지 리셋

      // 2. 게시판 제목 업데이트
      const boardTitles = {
        'intern': '인턴',
        'entry-level': '신입',
        'experienced': '경력',
        'regular': '정규직',
        'contract': '비정규직',
        'market-public': '공기업(시장형)',
        'quasi-market-public': '공기업(준시장형)',
        'fund-quasi': '준정부기관(기금관리형)',
        'entrust-quasi': '준정부기관(위탁집행형)',
        'other-public': '기타공공기관',
        'local-public': '지방공기업',
        'local-investment': '지방출자·출연기관'
      };
      
      const titleElement = document.getElementById('currentBoardTitle');
      if (titleElement) {
        titleElement.textContent = boardTitles[boardType] || '채용정보';
      }

      // 3. 사이드바 메뉴 활성화 상태 변경
      const menuItems = document.querySelectorAll('.board-sidebar a');
      menuItems.forEach(item => item.classList.remove('active'));
      const activeMenu = document.getElementById('board-menu-' + boardType);
      if (activeMenu) activeMenu.classList.add('active');

      // 4. 게시판 표시 (항상 표시)
      const boardTable = document.getElementById('boardJobTable');
      const boardMessage = document.getElementById('boardMessage');

      if (boardTable) boardTable.style.display = 'block';
      if (boardMessage) boardMessage.style.display = 'none';

      // 5. 데이터 로드
      loadJobs();
    }

    // 상세 보기 함수 (ID로 조회)
    function viewDetail(id) {
      const job = window.jobsData[id];
      if (!job) {
        alert('데이터를 찾을 수 없습니다.');
        return;
      }
      // 섹션 전환
      document.getElementById('board-section').style.display = 'none';
      const detailSection = document.getElementById('detail-section');
      if (detailSection) detailSection.style.display = 'block';

      // 데이터 바인딩
      const displayEmploymentType = job.employmentType || job.jobType || '채용';
      
      document.getElementById('detail-title').textContent = job.title;
      document.getElementById('detail-company').textContent = job.company;
      document.getElementById('detail-date').textContent = '등록일: ' + job.createdDate + (job.location ? ' | 근무지: ' + formatLocation(job.location) : '');
      document.getElementById('detail-badge').textContent = displayEmploymentType;

      // 추가 정보 바인딩
      document.getElementById('detail-ncs-code').textContent = formatNcsCode(job.ncsCode);
      document.getElementById('detail-employment-type').textContent = displayEmploymentType;
      document.getElementById('detail-career-type').textContent = job.careerType || '-';
      document.getElementById('detail-recruitment-count').textContent = job.recruitmentCount || '-';
      document.getElementById('detail-education').textContent = job.education || '-';
      document.getElementById('detail-closing-date').textContent = job.closingDate || job.deadline || '-';
      document.getElementById('detail-preference').textContent = job.preference || '-';
      
      // 마감까지 남은 일 계산
      const daysLeftEl = document.getElementById('detail-days-left');
      if (job.deadline) {
        const today = new Date();
        const deadlineDate = new Date(job.deadline);
        const diffTime = deadlineDate - today;
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        
        if (diffDays < 0) {
          daysLeftEl.textContent = '마감됨';
          daysLeftEl.style.color = '#6c757d';
        } else if (diffDays === 0) {
          daysLeftEl.textContent = 'D-Day';
          daysLeftEl.style.color = '#e74c3c';
        } else {
          daysLeftEl.textContent = 'D-' + diffDays + ' (' + diffDays + '일 남음)';
          daysLeftEl.style.color = diffDays <= 7 ? '#e74c3c' : '#28a745';
        }
      } else {
        daysLeftEl.textContent = '-';
        daysLeftEl.style.color = '#6c757d';
      }

      // 내용 (줄바꿈 처리)
      const content = job.content || '';
      document.getElementById('detail-desc').innerHTML = content ? content.replace(/\n/g, '<br>') : '내용이 없습니다.';

      // 이미지 처리
      const imgArea = document.getElementById('detail-image-area');
      const mainImg = document.getElementById('detail-main-image');

      // 1. 본문 이미지가 있으면 우선 표시
      if (job.contentImageUrl) {
        mainImg.src = job.contentImageUrl;
        imgArea.style.display = 'block';
      }
      // 2. 본문 이미지는 없고 로고 이미지만 있는데, 로고가 기본(./logo.png)이 아니면 표시
      else if (job.imageUrl && job.imageUrl !== './logo.png' && !job.imageUrl.startsWith('./')) {
        mainImg.src = job.imageUrl;
        imgArea.style.display = 'block';
      } else {
        imgArea.style.display = 'none';
      }

      // 첨부파일 처리
      const attArea = document.getElementById('detail-attachment-area');
      const attLink = document.getElementById('detail-attachment-link');
      if (job.attachmentUrl && job.attachmentName) {
        attLink.href = job.attachmentUrl;
        attLink.setAttribute('download', job.attachmentName);
        attLink.textContent = job.attachmentName;
        attArea.style.display = 'block';
      } else {
        attArea.style.display = 'none';
      }

      // 외부 링크 버튼 (채용 사이트 방문)
      const linkBtn = document.getElementById('detail-link');
      if (job.detailUrl && job.detailUrl !== '#' && job.detailUrl.startsWith('http')) {
        linkBtn.href = job.detailUrl;
        linkBtn.target = '_blank';
        linkBtn.rel = 'noopener noreferrer';
        linkBtn.onclick = function(e) {
          e.preventDefault();
          window.open(job.detailUrl, '_blank', 'noopener,noreferrer');
        };
        linkBtn.style.display = 'inline-block';
        linkBtn.textContent = '채용 사이트 방문 →';
        console.log('채용 사이트 URL:', job.detailUrl);
      } else {
        linkBtn.style.display = 'none';
        console.log('채용 사이트 URL 없음 또는 유효하지 않음:', job.detailUrl);
      }

      window.scrollTo(0, 0);
    }

    // 채용정보 목록 불러오기
    // 페이지네이션 변수
    let currentPage = 1;
    const itemsPerPage = 20;
    let totalJobs = [];

    async function loadJobs() {
      const loading = document.getElementById('loading');
      const emptyState = document.getElementById('emptyState');
      const jobTable = document.getElementById('jobTable');
      const tbody = document.getElementById('jobTableBody');
      const paginationContainer = document.getElementById('pagination');
      const bottomAddButton = document.querySelector('.bottom-add-button');

      if (!loading || !tbody) return;

      try {
        loading.style.display = 'block';
        if (emptyState) emptyState.style.display = 'none';
        if (jobTable) jobTable.style.display = 'none';
        if (paginationContainer) paginationContainer.style.display = 'none';
        if (bottomAddButton) bottomAddButton.style.display = 'none';

        const q = query(collection(db, 'jobs'), orderBy('createdAt', 'desc'));
        const querySnapshot = await getDocs(q);

        tbody.innerHTML = '';

        if (querySnapshot.empty) {
          loading.style.display = 'none';
          if (emptyState) emptyState.style.display = 'block';
          
          // 전체 데이터가 없어도 관리자에게는 등록 버튼 표시
          const isAdmin = (window.currentUserRole === 'admin');
          if (bottomAddButton) {
            bottomAddButton.style.display = isAdmin ? 'block' : 'none';
          }
          return;
        }

        // 관리자 여부에 따라 '관리' 헤더 표시 제어
        const isAdmin = (window.currentUserRole === 'admin');
        const mgmtHeader = document.getElementById('job-mgmt-header');
        const checkboxHeader = document.getElementById('checkbox-header');
        const bulkDeleteButtons = document.getElementById('bulkDeleteButtons');
        
        if (mgmtHeader) mgmtHeader.style.display = isAdmin ? 'table-cell' : 'none';
        if (checkboxHeader) checkboxHeader.style.display = isAdmin ? 'table-cell' : 'none';
        if (bulkDeleteButtons) bulkDeleteButtons.style.display = isAdmin ? 'flex' : 'none';

        // 클라이언트 사이드 필터링
        totalJobs = [];
        querySnapshot.forEach((docSnap) => {
          const d = docSnap.data();
          const cat = d.category || 'market-public'; // 카테고리가 없으면 기본값
          if (cat === window.currentJobCategory) {
            totalJobs.push({ ...d, id: docSnap.id });
          }
        });

        if (totalJobs.length === 0) {
          loading.style.display = 'none';
          if (emptyState) emptyState.style.display = 'block';
          if (paginationContainer) paginationContainer.style.display = 'none';
          if (bulkDeleteButtons) bulkDeleteButtons.style.display = 'none';
          
          // 데이터가 없어도 관리자에게는 등록 버튼 표시
          if (bottomAddButton) {
            bottomAddButton.style.display = isAdmin ? 'block' : 'none';
          }
          return;
        }

        console.log('Total jobs loaded:', totalJobs.length);
        console.log('Category:', window.currentJobCategory);

        // 현재 페이지의 데이터만 표시
        displayJobsForPage(currentPage, isAdmin);

        loading.style.display = 'none';
        if (jobTable) jobTable.style.display = 'table';
        
        // 페이지네이션은 데이터 개수와 관계없이 항상 렌더링 시도
        renderPagination();
        
        // 관리자에게만 하단 버튼 표시
        if (bottomAddButton) {
          bottomAddButton.style.display = isAdmin ? 'block' : 'none';
        }

      } catch (error) {
        console.error('데이터 로딩 실패:', error);
        if (loading) loading.style.display = 'none';
      }
    }

    function displayJobsForPage(page, isAdmin) {
      const tbody = document.getElementById('jobTableBody');
      tbody.innerHTML = '';

      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const pageJobs = totalJobs.slice(startIndex, endIndex);

      pageJobs.forEach((job) => {
        const tr = document.createElement('tr');
        const createdDate = job.createdAt ? new Date(job.createdAt.seconds * 1000).toLocaleDateString('ko-KR') : '-';
        const displayEmploymentType = job.employmentType || job.jobType || '-';

        window.jobsData[job.id] = { ...job, createdDate: createdDate };

        const mgmtStyle = isAdmin ? '' : 'display:none;';
        const checkboxCell = isAdmin ? `<td class="checkbox-cell" style="text-align:center;"><input type="checkbox" class="job-checkbox" data-job-id="${job.id}" onchange="updateSelectedCount()"></td>` : '';

        tr.innerHTML = `
              ${checkboxCell}
              <td class="logo-cell"><img src="${job.imageUrl || './logo.png'}" class="job-image" alt="로고"></td>
              <td class="company-cell">${job.company}</td>
              <td class="title-cell">
                  <a href="#" onclick="viewDetail('${job.id}'); return false;" style="text-decoration:none; color:#2c3e50; font-weight:600; display:block;">${escapeHtml(job.title)}</a>
              </td>
              <td class="employment-cell">${displayEmploymentType}</td>
              <td class="deadline-cell">${job.deadline || '-'}</td>
              <td class="mgmt-cell" style="${mgmtStyle}">
                  <button class="btn-edit" onclick="openEditModal('${job.id}')">수정</button>
                  <button class="btn-delete" onclick="deleteJob('${job.id}')">삭제</button>
              </td>
          `;
        tbody.appendChild(tr);
      });
      
      // 체크박스 상태 초기화
      updateSelectedCount();
    }

    function renderPagination() {
      const paginationContainer = document.querySelector('.pagination');
      const paginationWrapper = document.getElementById('pagination');
      
      if (!paginationContainer || !paginationWrapper) {
        console.error('Pagination container not found');
        return;
      }

      paginationContainer.innerHTML = '';

      const totalPages = Math.ceil(totalJobs.length / itemsPerPage);
      
      console.log('Rendering pagination - Total pages:', totalPages, 'Current page:', currentPage);

      // 1페이지만 있으면 페이지네이션 숨김
      if (totalPages <= 1) {
        paginationWrapper.style.display = 'none';
        return;
      }

      // 2페이지 이상이면 페이지네이션 표시
      paginationWrapper.style.display = 'block';

      // 이전 버튼
      const prevBtn = document.createElement('button');
      prevBtn.textContent = '‹';
      prevBtn.disabled = currentPage === 1;
      prevBtn.onclick = () => goToPage(currentPage - 1);
      paginationContainer.appendChild(prevBtn);

      // 페이지 번호들
      const maxVisiblePages = 10;
      let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
      let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);

      if (endPage - startPage < maxVisiblePages - 1) {
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
      }

      // 첫 페이지 (1페이지가 범위 밖이면)
      if (startPage > 1) {
        const firstBtn = document.createElement('button');
        firstBtn.textContent = '1';
        firstBtn.onclick = () => goToPage(1);
        paginationContainer.appendChild(firstBtn);

        if (startPage > 2) {
          const ellipsis = document.createElement('span');
          ellipsis.textContent = '...';
          ellipsis.className = 'ellipsis';
          paginationContainer.appendChild(ellipsis);
        }
      }

      // 중간 페이지들
      for (let i = startPage; i <= endPage; i++) {
        const pageBtn = document.createElement('button');
        pageBtn.textContent = i;
        if (i === currentPage) {
          pageBtn.className = 'active';
        }
        pageBtn.onclick = () => goToPage(i);
        paginationContainer.appendChild(pageBtn);
      }

      // 마지막 페이지 (마지막 페이지가 범위 밖이면)
      if (endPage < totalPages) {
        if (endPage < totalPages - 1) {
          const ellipsis = document.createElement('span');
          ellipsis.textContent = '...';
          ellipsis.className = 'ellipsis';
          paginationContainer.appendChild(ellipsis);
        }

        const lastBtn = document.createElement('button');
        lastBtn.textContent = totalPages;
        lastBtn.onclick = () => goToPage(totalPages);
        paginationContainer.appendChild(lastBtn);
      }

      // 다음 버튼
      const nextBtn = document.createElement('button');
      nextBtn.textContent = '›';
      nextBtn.disabled = currentPage === totalPages;
      nextBtn.onclick = () => goToPage(currentPage + 1);
      paginationContainer.appendChild(nextBtn);
    }

    function goToPage(page) {
      console.log('Going to page:', page);
      currentPage = page;
      const isAdmin = (window.currentUserRole === 'admin');
      displayJobsForPage(currentPage, isAdmin);
      renderPagination();
      
      // 테이블 상단으로 스크롤
      const boardTable = document.getElementById('boardJobTable');
      if (boardTable) {
        boardTable.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }

    // HTML 이스케이프 (XSS 방지)
    function escapeHtml(text) {
      if (!text) return '';
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML.replace(/'/g, "\\'");
    }

    // 모달 열기/닫기
    function openAddModal() {
      document.getElementById('addModal').style.display = 'block';
    }
    function closeAddModal() {
      document.getElementById('addModal').style.display = 'none';
      document.querySelector('#addModal form').reset();
    }
    function openEditModal(id) {
      const job = window.jobsData[id];
      if (!job) return;

      const editModal = document.getElementById('editModal');
      if (!editModal) return;

      document.getElementById('edit_id').value = id;
      document.getElementById('edit_title').value = job.title;
      document.getElementById('edit_company').value = job.company;
      document.getElementById('edit_employment_type').value = job.employmentType || job.jobType || '';
      document.getElementById('edit_location').value = job.location || '';
      document.getElementById('edit_deadline').value = job.deadline || '';
      document.getElementById('edit_image_url').value = job.imageUrl || '';
      document.getElementById('edit_detail_url').value = job.detailUrl || '';
      document.getElementById('edit_content').value = job.content || '';
      
      // 추가 필드들
      document.getElementById('edit_ncs_code').value = job.ncsCode || '';
      document.getElementById('edit_career_type').value = job.careerType || '';
      document.getElementById('edit_recruitment_count').value = job.recruitmentCount || '';
      document.getElementById('edit_education').value = job.education || '';
      document.getElementById('edit_preference').value = job.preference || '';

      // 파일 input 초기화 (보안상 값 설정 불가)
      document.getElementById('edit_content_image').value = '';
      document.getElementById('edit_attachment_file').value = '';

      editModal.style.display = 'block';
    }

    // NCS코드명 포맷팅 함수
    function formatNcsCode(ncsCode) {
      if (!ncsCode) return '-';
      const items = ncsCode.split(',').map(item => item.trim()).filter(item => item);
      if (items.length === 0) return '-';
      if (items.length <= 2) return items.join(', ');
      return items[0] + ' 외 ' + (items.length - 1) + '개 항목';
    }

    // 근무지역 포맷팅 함수
    function formatLocation(location) {
      if (!location) return '-';
      const items = location.split(',').map(item => item.trim()).filter(item => item);
      if (items.length === 0) return '-';
      if (items.length <= 2) return items.join(', ');
      return items[0] + ', ' + items[1] + ' 외 ' + (items.length - 2) + '개 지역';
    }

    // 파일 업로드 헬퍼
    async function uploadFile(file, folder) {
      if (!file) return null;
      try {
        const storageRef = window.ref(window.storage, folder + '/' + Date.now() + '_' + file.name);
        await window.uploadBytes(storageRef, file);
        const url = await window.getDownloadURL(storageRef);
        return url;
      } catch (err) {
        alert('❌ 파일 업로드 중 오류 발생: ' + err.code + ' / ' + err.message);
        console.error('Upload failed:', err);
        throw err;
      }
    }
    function closeEditModal() {
      document.getElementById('editModal').style.display = 'none';
    }

    // 채용정보 등록
    async function addJob(e) {
      e.preventDefault();
      console.log('addJob started');
      const submitBtn = e.target.querySelector('button[type="submit"]');

      try {
        if (submitBtn) submitBtn.disabled = true;

        const contentImageFile = document.getElementById('add_content_image').files[0];
        const attachmentFile = document.getElementById('add_attachment_file').files[0];

        let contentImageUrl = '';
        let attachmentUrl = '';
        let attachmentName = '';

        if (contentImageFile) {
          contentImageUrl = await uploadFile(contentImageFile, 'images');
        }
        if (attachmentFile) {
          attachmentUrl = await uploadFile(attachmentFile, 'attachments');
          attachmentName = attachmentFile.name;
        }

        const employmentTypeValue = document.getElementById('add_employment_type').value;
        
        const deadlineValue = document.getElementById('add_deadline').value;
        
        const data = {
          title: document.getElementById('add_title').value,
          company: document.getElementById('add_company').value,
          employmentType: employmentTypeValue,
          jobType: employmentTypeValue, // 호환성을 위해 jobType에도 동일한 값 저장
          location: document.getElementById('add_location').value,
          deadline: deadlineValue,
          imageUrl: document.getElementById('add_image_url').value,
          detailUrl: document.getElementById('add_detail_url').value,
          content: document.getElementById('add_content').value,
          contentImageUrl: contentImageUrl,
          attachmentUrl: attachmentUrl,
          attachmentName: attachmentName,
          // 추가 필드들
          ncsCode: document.getElementById('add_ncs_code').value,
          careerType: document.getElementById('add_career_type').value,
          recruitmentCount: document.getElementById('add_recruitment_count').value,
          education: document.getElementById('add_education').value,
          closingDate: deadlineValue, // 마감일과 동일하게 설정
          preference: document.getElementById('add_preference').value,
          category: window.currentJobCategory, // 현재 카테고리 저장
          createdAt: window.Timestamp.now()
        };

        await window.addDoc(window.collection(window.db, 'jobs'), data);
        alert('✅ 등록되었습니다!');
        closeAddModal();
        loadJobs();
      } catch (error) {
        console.error('등록 실패:', error);
        alert('등록에 실패했습니다: ' + error.message);
      } finally {
        if (submitBtn) submitBtn.disabled = false;
      }
    }

    // 채용정보 수정
    async function updateJob(e) {
      e.preventDefault();

      const id = document.getElementById('edit_id').value;

      try {
        const contentImageFile = document.getElementById('edit_content_image').files[0];
        const attachmentFile = document.getElementById('edit_attachment_file').files[0];

        const employmentTypeValue = document.getElementById('edit_employment_type').value;
        const deadlineValue = document.getElementById('edit_deadline').value;

        // 기존 데이터 유지를 위해 업데이트할 필드만 구성
        const data = {
          title: document.getElementById('edit_title').value,
          company: document.getElementById('edit_company').value,
          employmentType: employmentTypeValue,
          jobType: employmentTypeValue, // 호환성을 위해 jobType에도 동일한 값 저장
          location: document.getElementById('edit_location').value,
          deadline: deadlineValue,
          imageUrl: document.getElementById('edit_image_url').value,
          detailUrl: document.getElementById('edit_detail_url').value,
          content: document.getElementById('edit_content').value,
          // 추가 필드들
          ncsCode: document.getElementById('edit_ncs_code').value,
          careerType: document.getElementById('edit_career_type').value,
          recruitmentCount: document.getElementById('edit_recruitment_count').value,
          education: document.getElementById('edit_education').value,
          closingDate: deadlineValue, // 마감일과 동일하게 설정
          preference: document.getElementById('edit_preference').value
        };

        /* window.uploadFile 이미 수정됨 */
        if (contentImageFile) {
          data.contentImageUrl = await uploadFile(contentImageFile, 'images');
        }
        if (attachmentFile) {
          data.attachmentUrl = await uploadFile(attachmentFile, 'attachments');
          data.attachmentName = attachmentFile.name;
        }

        await window.updateDoc(window.doc(window.db, 'jobs', id), data);
        alert('✅ 수정되었습니다!');
        closeEditModal();
        loadJobs();
      } catch (error) {
        console.error('수정 실패:', error);
        alert('수정에 실패했습니다: ' + error.message);
      }
    }

    // 채용정보 삭제
    async function deleteJob(id) {
      if (!confirm('❗ 정말 삭제하시겠습니까?')) return;

      try {
        // 현재 사용자 확인
        const currentUser = auth.currentUser;
        if (!currentUser) {
          alert('❌ 로그인이 필요합니다.');
          return;
        }

        // 관리자 권한 확인
        if (window.currentUserRole !== 'admin') {
          alert('❌ 관리자 권한이 필요합니다.');
          return;
        }

        console.log('Attempting to delete job:', id);
        console.log('Current user:', currentUser.uid);
        console.log('User role:', window.currentUserRole);

        await window.deleteDoc(window.doc(window.db, 'jobs', id));
        alert('✅ 삭제되었습니다!');
        loadJobs();
      } catch (error) {
        console.error('삭제 실패:', error);
        console.error('Error code:', error.code);
        console.error('Error message:', error.message);
        alert('삭제에 실패했습니다: ' + error.message);
      }
    }

    // 전체 선택/해제
    function toggleSelectAll() {
      const selectAllCheckbox = document.getElementById('selectAllJobs');
      const checkboxes = document.querySelectorAll('.job-checkbox');
      
      checkboxes.forEach(checkbox => {
        checkbox.checked = selectAllCheckbox.checked;
      });
      
      updateSelectedCount();
    }

    // 선택된 항목 개수 업데이트
    function updateSelectedCount() {
      const checkboxes = document.querySelectorAll('.job-checkbox:checked');
      const count = checkboxes.length;
      const countElement = document.getElementById('selectedCount');
      
      if (countElement) {
        countElement.textContent = count;
      }
      
      // 전체 선택 체크박스 상태 업데이트
      const selectAllCheckbox = document.getElementById('selectAllJobs');
      const allCheckboxes = document.querySelectorAll('.job-checkbox');
      
      if (selectAllCheckbox && allCheckboxes.length > 0) {
        selectAllCheckbox.checked = (count === allCheckboxes.length);
        selectAllCheckbox.indeterminate = (count > 0 && count < allCheckboxes.length);
      }
    }

    // 선택된 항목 삭제
    async function deleteSelectedJobs() {
      const checkboxes = document.querySelectorAll('.job-checkbox:checked');
      
      if (checkboxes.length === 0) {
        alert('⚠️ 삭제할 항목을 선택해주세요.');
        return;
      }

      if (!confirm(`❗ 선택한 ${checkboxes.length}개의 항목을 정말 삭제하시겠습니까?`)) {
        return;
      }

      try {
        // 현재 사용자 확인
        const currentUser = auth.currentUser;
        if (!currentUser) {
          alert('❌ 로그인이 필요합니다.');
          return;
        }

        // 관리자 권한 확인
        if (window.currentUserRole !== 'admin') {
          alert('❌ 관리자 권한이 필요합니다.');
          return;
        }

        // 선택된 ID 수집
        const idsToDelete = Array.from(checkboxes).map(cb => cb.dataset.jobId);
        
        console.log('Deleting jobs:', idsToDelete);

        // Firebase에서 각 문서 삭제
        const deletePromises = idsToDelete.map(id => 
          window.deleteDoc(window.doc(window.db, 'jobs', id))
        );

        await Promise.all(deletePromises);
        
        alert(`✅ ${idsToDelete.length}개의 항목이 삭제되었습니다!`);
        
        // 전체 선택 해제
        const selectAllCheckbox = document.getElementById('selectAllJobs');
        if (selectAllCheckbox) selectAllCheckbox.checked = false;
        
        loadJobs();
      } catch (error) {
        console.error('일괄 삭제 실패:', error);
        alert('삭제에 실패했습니다: ' + error.message);
      }
    }

    // 현재 카테고리의 전체 항목 삭제
    async function deleteAllJobsInCategory() {
      if (totalJobs.length === 0) {
        alert('⚠️ 삭제할 항목이 없습니다.');
        return;
      }

      const categoryTitles = {
        'intern': '인턴',
        'entry-level': '신입',
        'experienced': '경력',
        'regular': '정규직',
        'contract': '비정규직',
        'market-public': '공기업(시장형)',
        'quasi-market-public': '공기업(준시장형)',
        'fund-quasi': '준정부기관(기금관리형)',
        'entrust-quasi': '준정부기관(위탁집행형)',
        'other-public': '기타공공기관',
        'local-public': '지방공기업',
        'local-investment': '지방출자·출연기관'
      };

      const currentCategoryTitle = categoryTitles[window.currentJobCategory] || '현재 카테고리';

      if (!confirm(`🚨 경고: "${currentCategoryTitle}"의 모든 항목(${totalJobs.length}개)을 정말 삭제하시겠습니까?\n\n이 작업은 되돌릴 수 없습니다!`)) {
        return;
      }

      // 한 번 더 확인
      if (!confirm(`⚠️ 최종 확인: 정말로 ${totalJobs.length}개의 항목을 모두 삭제하시겠습니까?`)) {
        return;
      }

      try {
        // 현재 사용자 확인
        const currentUser = auth.currentUser;
        if (!currentUser) {
          alert('❌ 로그인이 필요합니다.');
          return;
        }

        // 관리자 권한 확인
        if (window.currentUserRole !== 'admin') {
          alert('❌ 관리자 권한이 필요합니다.');
          return;
        }

        console.log('Deleting all jobs in category:', window.currentJobCategory);
        console.log('Total jobs to delete:', totalJobs.length);

        // 모든 항목 삭제
        const deletePromises = totalJobs.map(job => 
          window.deleteDoc(window.doc(window.db, 'jobs', job.id))
        );

        await Promise.all(deletePromises);
        
        alert(`✅ ${totalJobs.length}개의 항목이 모두 삭제되었습니다!`);
        loadJobs();
      } catch (error) {
        console.error('전체 삭제 실패:', error);
        alert('삭제에 실패했습니다: ' + error.message);
      }
    }

    // 모달 외부 클릭 시 닫기
    window.onclick = function (event) {
      if (event.target.classList.contains('modal')) {
        event.target.style.display = 'none';
      }
    }
    // 페이지 로드 완료 시 loadJobs 실행
    window.addEventListener('DOMContentLoaded', loadJobs);

    // 페이지 로드 시 학술연구정보 및 교육과정 배너에 로그인 체크 추가
    window.addEventListener('DOMContentLoaded', function() {
      // 학술연구정보 배너들에 로그인 체크 추가
      const researchBanners = document.querySelectorAll('.research-sidebar .bannerList a, .research-sidebar .hbn-row-image a');
      researchBanners.forEach(function(banner) {
        banner.addEventListener('click', function(e) {
          const user = window.auth?.currentUser;
          if (!user) {
            e.preventDefault();
            alert('학술연구정보를 보려면 로그인이 필요합니다. 회원가입 후 이용해주세요.');
            if (window.openLoginModal) {
              window.openLoginModal();
            }
          }
        });
      });

      // 교육과정 배너들에 로그인 체크 추가
      const eduBanners = document.querySelectorAll('.edu-banner');
      eduBanners.forEach(function(banner) {
        banner.addEventListener('click', function(e) {
          const user = window.auth?.currentUser;
          if (!user) {
            e.preventDefault();
            alert('교육과정 정보를 보려면 로그인이 필요합니다. 회원가입 후 이용해주세요.');
            if (window.openLoginModal) {
              window.openLoginModal();
            }
          }
        });
      });
    });

    // === 프리미엄 채용정보 자동 캐러셀 === 
    window.addEventListener('DOMContentLoaded', function() {
      const carouselContainer = document.querySelector('.premium-carousel-container');
      const cards = carouselContainer ? Array.from(carouselContainer.querySelectorAll('.job-card')) : [];
      
      if (!carouselContainer || cards.length === 0) return;
      
      const intervalTime = 5000; // 5초
      let isTransitioning = false;
      
      function slideCarousel() {
        if (isTransitioning) return;
        isTransitioning = true;
        
        // 각 카드의 실제 너비 + gap 계산
        const cardWidth = cards[0].offsetWidth;
        const computedStyle = window.getComputedStyle(carouselContainer);
        const gap = parseFloat(computedStyle.gap) || 16; // gap 값 가져오기 (기본 16px)
        const moveDistance = cardWidth + gap;
        
        // 왼쪽으로 이동하는 애니메이션 적용
        carouselContainer.style.transition = 'transform 0.6s ease-in-out';
        carouselContainer.style.transform = `translateX(-${moveDistance}px)`;
        
        // 애니메이션이 끝난 후
        setTimeout(() => {
          // transition 효과 제거
          carouselContainer.style.transition = 'none';
          
          // 첫 번째 카드를 맨 뒤로 이동
          const firstCard = carouselContainer.firstElementChild;
          carouselContainer.appendChild(firstCard);
          
          // transform 초기화
          carouselContainer.style.transform = 'translateX(0)';
          
          // 다음 애니메이션을 위해 transition 복원
          setTimeout(() => {
            isTransitioning = false;
          }, 50);
        }, 600); // transition 시간과 동일하게 설정
      }
      
      // 5초마다 자동 슬라이드
      setInterval(slideCarousel, intervalTime);
    });
  </script>
</body>

</html>
